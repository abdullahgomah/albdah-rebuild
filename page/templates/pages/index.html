{% extends 'base.html' %}
{% load static %}



{% block title %}
    مكتب البداح للعقارات | الصفحة الرئيسية
{% endblock title %}
    


{% block stylesheets %}
    <!-- <link rel="stylesheet" href="{% static 'css/pages/main.css' %}"> -->
    <link rel="stylesheet" href="{% static 'css/pages/index.css' %}">
    <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css"
  />
  
  <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
  
  <style>


    .swiper {
        min-width: 100%; 
        height: 100%;
      }
  
      .swiper-slide {
        text-align: center;
        display: flex;
        justify-content: center;
        align-items: center;
        width: fit-content !important;
      }
      .swiper-wrapper {
        column-gap: 1rem;
        padding: .5rem 0;
      }
  
      .swiper-slide img {
        display: block;
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
  </style>
{% endblock stylesheets %}
    



{% block content %}

<style>
    .messages .success {
        list-style: none;
        background: #28a74580;
        color: white;
        width: 100%;
        min-height: 30px;
        padding: 1rem ;
        line-height: 30px;
        text-align: center;
    }
    .messages li {
        transition: all .2s ease-in-out;
    }

    .intro__title {
        font-family: "Rakkas", serif; 
        
    }
</style>

    
{% if messages %}
<ul class="messages">
    {% for message in messages %}
    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
    {% endfor %}
</ul>
{% endif %}

    <main>
        <div class="container">
            <div class="intro">
                <h1 class="intro__title">
                    <!-- البداح ... حلِّك بحِلِّك وترحالك -->
                    {{info.title}}
                </h1>
                <p>
                    <!-- تجربة آمنة تقدمها لكم مكاتب البداح للعقارات من خلال تقديم أفضل الخدمات والحلول التسويقية -->
                    {{info.slogan}}
                </p>
            </div>
            <div class="cta">
                <a class="btn btn-solid-success" id="search-filter-open-btn">
                    ابحث عن عقار
                    <img src="{% static 'imgs/search-icon.png' %}" alt="">
                </a>
                <a href="{% url 'maps:search-with-map' %}" class="btn btn-solid-success">
                    بحث بالخريطة
                    <img src="{% static 'imgs/map-logo.svg.png' %}" alt="">
                </a>
                <a href="{% url 'property:add-property-interface' %}" class="btn btn-solid-success">
                    إضافة عقار
                    <img src="{% static 'imgs/add-property-icon.png' %}" alt="">
                </a>
            </div>
        </div>
    </main>

    <section class="property_type">
        <div class="container">
            <div class="swiper mySwiper">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <a href="#" data-property_type="all" class="btn btn-solid">الكل</a>
                    </div>
                    <div class="swiper-slide">
                        <a href="#" data-property_type="apartment_rent" class="btn btn-solid">شقق للإيجار</a>
                    </div>
                
                    <div class="swiper-slide">
                        <a href="#" data-property_type="floor_rent" class="btn btn-solid">دور للإيجار</a>
                    </div>

                    <div class="swiper-slide">
                        <a href="#" data-property_type="villa_rent" class="btn btn-solid">فيلا للإيجار</a>
                    </div>

                    <div class="swiper-slide">
                        <a href="#" data-property_type="shop_rent" class="btn btn-solid">محل للإيجار</a>
                    </div>

                    <div class="swiper-slide">
                        <a href="#" data-property_type="resthouse_rent" class="btn btn-solid">استراحة للإيجار</a>
                    </div>


                    <div class="swiper-slide">
                        <a href="#" data-property_type="commercial_office_rent" class="btn btn-solid">مكتب تجاري للإيجار</a>
                    </div>

                    <div class="swiper-slide">
                        <a href="#" data-property_type="land_rent" class="btn btn-solid">أرض للإيجار</a>
                    </div>

                    <div class="swiper-slide">
                        <a href="#" data-property_type="building_rent" class="btn btn-solid">عمارة للإيجار</a>
                    </div>

                    <div class="swiper-slide">
                        <a href="#" data-property_type="branch_rent" class="btn btn-solid">مستودع للإيجار</a>
                    </div>

                    <div class="swiper-slide">
                        <a href="#" data-property_type="furnished_apartment_rent" class="btn btn-solid">شقة مفروشة للإيجار</a>
                    </div>

                    <div class="swiper-slide">
                        <a href="#" data-property_type="chalet_rent" class="btn btn-solid">شاليه للإيجار</a>
                    </div>
                    <div class="swiper-slide">
                        <a href="#" data-property_type="land_sale" class="btn btn-solid">أرض للبيع</a>
                    </div>
                    <div class="swiper-slide">
                        <a href="#" data-property_type="villa_sale" class="btn btn-solid">فيلا للبيع</a>
                    </div>
                    <div class="swiper-slide">
                        <a href="#" data-property_type="apartment_sale" class="btn btn-solid">شقة للبيع</a>
                    </div>
                    <div class="swiper-slide">
                        <a href="#" data-property_type="building_sale" class="btn btn-solid">عمارة للبيع</a>
                    </div>
                    <div class="swiper-slide">
                        <a href="#" data-property_type="resthouse_sale" class="btn btn-solid">استراحة للبيع</a>
                    </div>
                    <div class="swiper-slide">
                        <a href="#" class="btn btn-solid">مزرعة للبيع</a>
                    </div>
                    <div class="swiper-slide">
                        <a href="#" data-property_type="shop_sale" class="btn btn-solid">محل للبيع</a>
                    </div>
                    <div class="swiper-slide">
                        <a href="#" data-property_type="floor_sale" class="btn btn-solid">دور للبيع</a>
                    </div>
                </div>
                <!-- <div class="swiper-pagination"></div> -->
            </div>
        </div>
    </section>

    <section class="property_list">
        <div class="container">

            <div class="grid property_grid">
                
                {% for property in page_obj %}
                

                <div class="item property">
                    <input type="hidden" name="propertyFirstImgUrl" value="{{property.imgs.first.img.url}}">
                    <input type="hidden" name="property_type_input" value="{{property.p_type}}">
                    <div class="property__info">
                        <h4 class="property__title">
                            <a href="{% url 'property:property-details' property.number %}">{{property.title}}</a>
                        </h4>
                        <p class="property__price">
                            
                            {% if property.sale == True %}
                            {{property.price|floatformat:"0"}} ريال
                            {% else %}
                            {{property.price|floatformat:"0"}} ريال / {{property.get_rent_type_display }}
                            {% endif %}

                                
                        </p>
                        <!-- short info about property -->

                        <div class="property__summary">
                            
                            {% if property.p_type == 'apartment_rent' or property.p_type == 'apartment_sale' %}

                            <div class="property__summary__item">
                                <span>{{property.space}}</span>
                                <span>م&sup2;</span>
                            </div>

                            <div class="property__summary__item">
                                <i class="fa-solid fa-bed"></i>

                                <span>{{property.rooms}}</span>
                            </div>

                            <div class="property__summary__item">
                                <i class="fa-solid fa-couch"></i>
                                <span>{{property.lounges}}</span>
                            </div>


                            <div class="property__summary__item">
                                <i class="fa-solid fa-bath"></i>
                                <span>{{property.bathroom}}</span>
                            </div>

                            {% elif property.p_type == 'shop_rent' or property.p_type == 'shop_sale' or property.p_type == 'commercial_office_rent' or property.p_type == 'farm_sale' or property.p_type == 'building_sale' or property.p_type == 'building_rent' or property.p_type == 'branch_rent' %}
                            <div class="property__summary__item">
                                <span>{{property.space}}</span>
                                <span>م&sup2;</span>
                            </div>
                            {% endif %}
                                
                        </div>

                        <p class="property__description">
                            <!-- {{property.description|safe|truncatewords:5}} -->
                        </p>
                        <p>
                            رقم الإعلان: <span>{{property.id}}</span>
                        </p>
                    </div>


                    <div class="property__cover_img">
                    
                    
                        <img src="{% for img in property.imgs.all %}{% if img.main %}{{img.img.url}}{% endif %}{% endfor %}" alt="">
                        
                        
                    </div>
                </div>
                {% endfor %}


                <div class="pagination">
                    <div class="container">
                        <a href="?page=1">الأولى</a>
                        
                        {% if page_obj.has_previous %}
                            <a href="?page={{page_obj.previous_page_number}}">{{page_obj.previous_page_number}}</a>
                        {% endif %}

                        <a href="?page={{page_obj.number}}" class="current_page">{{page_obj.number}}</a>
                        
                        {% if page_obj.has_next %}
                            <a href="?page={{page_obj.next_page_number}}">{{page_obj.next_page_number}}</a>
                        {% endif %}

                        <a href="?page={{paginator.num_pages}}">الأخيرة</a>
                            
                    </div>
                </div>


                <!-- <div class="pagination"> 
                    
                    <div class="container">
                        <span class="step-links">
                            {% if page_obj.has_previous %}
                                <a href="?page=1">&laquo; الأولى</a>
                                <a href="?page={{ page_obj.previous_page_number }}">السابقة</a>
                            {% endif %}
                    
                            <span class="current">
                                Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
                            </span>
                    
                            {% if page_obj.has_next %}
                                <a href="?page={{ page_obj.next_page_number }}">التالي</a>
                                <a href="?page={{ page_obj.paginator.num_pages }}">الأخيرة &raquo;</a>
                            {% endif %}
                        </span>

                    </div>

                </div> -->

                    



            </div>

        </div>
    </section>

    <section class="search-filters">
        <div class="container">
            <div class="section__heading">
                <h3>ابحث عن عقار</h3>
                <div id="search-filter-close-btn">
                    <i class="fa-solid fa-xmark"></i>
                </div>
            </div>
            <div class="section__content">
                <div class="field">
                    <p>قسم العقار</p>
                    <select name="property_type">
                        <option value="" disabled selected>عقارات</option>
                        <option value="apartment_rent">شقة للايجار</option>
                        <option value="floor_rent">دور للايجار</option>
                        <option value="villa_rent">فيلا للايجار</option>
                        <option value="shop_rent">محل للايجار</option>
                        <option value="resthouse_rent">استراحة للايجار</option>
                        <option value="commercial_office_rent">مكتب تجاري للايجار</option>
                        <option value="land_rent">أرض للايجار</option>
                        <option value="building_rent">عمارة للايجار</option>
                        <option value="branch_rent">مستودع للايجار</option>
                        <option value="furnished_apartment_rent">شقة مفروشة للايجار</option>
                        <option value="chalet_rent">شاليه للايجار</option>
                        <option value="chalet_sale">شاليه للبيع</option>
                        <option value="land_sale">أرض للبيع</option>
                        <option value="villa_sale">فيلا للبيع</option>
                        <option value="apartment_sale">شقة للبيع</option>
                        <option value="building_sale">عمارة للبيع</option>
                        <option value="resthouse_sale">استراحة للبيع</option>
                        <option value="farm_sale">مزرعة للبيع</option>
                        <option value="shop_sale">محل للبيع</option>
                        <option value="floor_sale">دور للبيع</option>
                    </select>
                </div>
                <div class="field">
                    <p>المدينة</p>
                    <select name="city" id="city-select-input">
                        <option value="" disabled selected>اختر المدينة</option>
                        <option value="الرياض" data-city="Riyadh">الرياض</option>
                        <option value="جدة" data-city="Jeddah">جدة</option>
                        <option value="مكة المكرمة" data-city="Mecca">مكة المكرمة</option>
                        <option value="المدينة المنورة" data-city="Medina">المدينة المنورة</option>
                        <option value="الدمام" data-city="Dammam">الدمام</option>
                        <option value="الخبر" data-city="Khobar">الخبر</option>
                        <option value="الظهران" data-city="Dhahran">الظهران</option>
                        <option value="الطائف" data-city="Taif">الطائف</option>
                        <option value="تبوك" data-city="Tabuk">تبوك</option>
                        <option value="بريدة" data-city="Buraydah">بريدة</option>
                        <option value="خميس مشيط" data-city="KhamisMushait">خميس مشيط</option>
                        <option value="أبها" data-city="Abha">أبها</option>
                        <option value="ينبع" data-city="Yanbu">ينبع</option>
                        <option value="الجبيل" data-city="Jubail">الجبيل</option>
                        <option value="الخرج" data-city="Hofuf">الخرج</option>
                        <option value="حائل" data-city="Hail">حائل</option>
                        <option value="نجران" data-city="Najran">نجران</option>
                        <option value="القصيم" data-city="Qassim">القصيم</option>
                        <option value="الخبر" data-city="Khobar">الخبر</option>
                        <option value="الباحة" data-city="Bahah">الباحة</option>                        
                    </select>
                </div>
                <div class="field">
                    <p>الحي</p>
                    <select name="district" id="district-select-input">
                        <option value="" disabled selected>اختر الحي</option>
                        {% comment %} this process can be handled using ajax {% endcomment %}
                    </select>
                </div>

                <div class="fields-wrapper">


                </div>
                
                <div class="field">
                    <a class="btn btn-solid" id="filter-btn">بحث</a>
                </div>
                <div class="field">
                    <a id='reset-btn' >مسح الفلاتر</a>
                </div>
            </div>
        </div>
    </section>

    <div class="overlay-layer"></div>


    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <script src="{% static 'js/pages/app.js' %}"></script>
    <script src="{% static 'js/pages/index.js' %}"></script>

    <script>
        let messages = document.querySelectorAll('.messages li'); 
        messages.forEach((msg) => { 
            if (msg) {
                setTimeout(()=> {
                    msg.style.display = 'none'
                }, 5000)
            }
        })

        let overlayLayer = document.querySelector('.overlay-layer')
        let searchFilters = document.querySelector(".search-filters") 

        let searchFilterOpenBtn = document.querySelector('#search-filter-open-btn')
        searchFilterOpenBtn.addEventListener('click', () => {
            {% comment %} searchFilters.style.display = 'block' {% endcomment %}
            searchFilters.style.right = '0'; 
            overlayLayer.style.display = 'block';
            document.body.style.overflow = 'hidden'; 
        })

        let searchFilterCloseBtn = document.querySelector('#search-filter-close-btn i') 
        searchFilterCloseBtn.addEventListener('click', () => {
            searchFilters.style.right = '-400px'; 
            overlayLayer.style.display = 'none';
            document.body.style.overflow = 'visible'; 
        })


        var BuraydaDistricts = [
            "الأندلس",
            "الوادي",
            "اليرموك",
            "الرمال",
            "المروة",
            "الخضر",
            "اللسيب",
            "القضيعة",
            "الغدير",
            "السالمية",
            "الروابي",
            "حويلان",
            "خضراء",
            "الصباخ",
            "واسط",
            "السلام",
            "الجنوب",
            "الخليج",
            "الضاحي",
            "خب البريدي",
            "السادة",
            "الهلال",
            "العجيبة",
            "العريضي",
            "البساتين",
            "النسيم",
            "الموطاء",
            "التعليم",
            "الجردة",
            "الصالحية",
            "المريدسية",
            "الشروق",
            "خب الثنيان",
            "الشماس",
            "القادسية",
            "الصفاء",
            "الخبيب",
            "المرقب",
            "الربيع",
            "الرفيعة",
            "الزرقاء",
            "النور",
            "الشفق",
            "الحمر",
            "القاع البارد",
            "الربوة",
            "المنار",
            "الوسيطي",
            "المنتزه",
            "الصفراء",
            "الفايزية",
            "النقع",
            "النخيل",
            "الروضه",
            "الإسكان",
            "الأخضر",
            "الشقة السفلى",
            "الرابية",
            "الريان",
            "النهضة",
            "الافق",
            "الورود",
            "الخزامي",
            "الجزيرة",
            "الفاروق",
            "المرواج",
            "رواق"
        ];


        let districtSelectInput = document.querySelector("#district-select-input"); 
        let citySelectInput = document.querySelector('#city-select-input') 
        citySelectInput.addEventListener('change', ()=> {
            districtSelectInput.innerHTML = "" ;
            let allOption = document.createElement('option'); 
            allOption.value = "" ;
            allOption.textContent = "الكل"
            districtSelectInput.appendChild(allOption);
            if (citySelectInput.value =='بريدة') {
                BuraydaDistricts.forEach((city) => {
                    let new_option = document.createElement('option') 
                    new_option.value = city; 
                    new_option.textContent = city; 
                    districtSelectInput.appendChild(new_option)
                })
            }
        })

        let fieldsWrapper = document.querySelector('.fields-wrapper'); 
        function changeItemValue(grid) {
            grid.querySelectorAll(".item").forEach((item)=> {
                item.addEventListener('click', () => {
                    console.log(item);
                    grid.querySelectorAll(".item").forEach((item) => {
                        item.style.background = 'white'; 
                        item.style.color = 'black'
                    })
                    item.style.color = 'var(--secondary-color)'
                    item.style.background = 'var(--primary-color)'

                    item.parentElement.parentElement.querySelector('input').value = item.dataset.value; 
                    {% comment %} console.log(item);  {% endcomment %}
                    {% comment %} console.log(item.parentElement.parentElement.querySelector('input'));  {% endcomment %}
                    {% comment %} console.log(item.dataset.value); {% endcomment %}
                })
            })
        }

        
        function appendRentTypeField() {

            // Create the div element with class "field"
            const fieldDiv = document.createElement('div');
            fieldDiv.classList.add('field');

            // Create the div element with class "field__heading"
            const headingDiv = document.createElement('div');
            headingDiv.classList.add('field__heading');

            // Create the paragraph element with class "field__heading__title" and text content "مدة الإيجار"
            const titleParagraph = document.createElement('p');
            titleParagraph.classList.add('field__heading__title');
            titleParagraph.textContent = 'مدة الإيجار';

            // Append the title paragraph to the heading div
            headingDiv.appendChild(titleParagraph);

            // Append the heading div to the field div
            fieldDiv.appendChild(headingDiv);

            // Create the div element with class "field__content"
            const contentDiv = document.createElement('div');
            contentDiv.classList.add('field__content');

            // Create the input element with type "hidden" and name "rent_type_input"
            const hiddenInput = document.createElement('input');
            hiddenInput.setAttribute('type', 'hidden');
            hiddenInput.setAttribute('name', 'rent_type_input');
            hiddenInput.setAttribute('value', '');

            // Append the hidden input to the content div
            contentDiv.appendChild(hiddenInput);

            // Create the div element with class "grid" and class "rent_type"
            const gridDiv = document.createElement('div');
            gridDiv.classList.add('grid', 'rent_type');

            // Create the three div elements with class "item" and respective data-value attributes
            const withoutDiv = document.createElement('div');
            withoutDiv.setAttribute('data-value', '');
            withoutDiv.classList.add('item');
            withoutDiv.textContent = 'الكل';

            const monthlyDiv = document.createElement('div');
            monthlyDiv.setAttribute('data-value', 'monthly');
            monthlyDiv.classList.add('item');
            monthlyDiv.textContent = 'شهري';

            const yearlyDiv = document.createElement('div');
            yearlyDiv.setAttribute('data-value', 'yearly');
            yearlyDiv.classList.add('item');
            yearlyDiv.textContent = 'سنوي';

            // Append the three item divs to the grid div
            gridDiv.appendChild(withoutDiv);
            gridDiv.appendChild(monthlyDiv);
            gridDiv.appendChild(yearlyDiv);

            // Append the grid div to the content div
            contentDiv.appendChild(gridDiv);

            // Append the content div to the field div
            fieldDiv.appendChild(contentDiv);

            // Now, you can append the field div to any existing HTML element in your document to display it
            // For example:

            changeItemValue(fieldDiv.querySelector('.grid'))
            fieldsWrapper.appendChild(fieldDiv);  

        }



        function appendFamiliesSinglesField() {
            // Create the div element with class "field"
            const fieldDiv = document.createElement('div');
            fieldDiv.classList.add('field');
        
            // Create the div element with class "field__heading"
            const headingDiv = document.createElement('div');
            headingDiv.classList.add('field__heading');
        
            // Create the paragraph element with class "field__heading__title" and text content "عوائل أم عزاب"
            const titleParagraph = document.createElement('p');
            titleParagraph.classList.add('field__heading__title');
            titleParagraph.textContent = 'عوائل أم عزاب';
        
            // Append the title paragraph to the heading div
            headingDiv.appendChild(titleParagraph);
        
            // Append the heading div to the field div
            fieldDiv.appendChild(headingDiv);
        
            // Create the div element with class "field__content"
            const contentDiv = document.createElement('div');
            contentDiv.classList.add('field__content');
        
            // Create the input element with type "hidden" and name "single-or-family-input"
            const hiddenInput = document.createElement('input');
            hiddenInput.setAttribute('type', 'hidden');
            hiddenInput.setAttribute('name', 'single-or-family-input');
        
            // Append the hidden input to the content div
            contentDiv.appendChild(hiddenInput);
        
            // Create the div element with class "grid" and class "families-single"
            const gridDiv = document.createElement('div');
            gridDiv.classList.add('grid', 'families-single');
        
            // Create the three div elements with class "item" and respective data-value attributes
            const unspecifiedDiv = document.createElement('div');
            unspecifiedDiv.setAttribute('data-value', '');
            unspecifiedDiv.classList.add('item');
            unspecifiedDiv.textContent = 'الكل';
        
            const familiesDiv = document.createElement('div');
            familiesDiv.setAttribute('data-value', 'families');
            familiesDiv.classList.add('item');
            familiesDiv.textContent = 'عوائل';
        
            const singleDiv = document.createElement('div');
            singleDiv.setAttribute('data-value', 'single');
            singleDiv.classList.add('item');
            singleDiv.textContent = 'عزاب';
        
            // Append the item divs to the grid div
            gridDiv.appendChild(unspecifiedDiv);
            gridDiv.appendChild(familiesDiv);
            gridDiv.appendChild(singleDiv);
        
            // Append the grid div to the content div
            contentDiv.appendChild(gridDiv);
        
            // Append the content div to the field div
            fieldDiv.appendChild(contentDiv);

            changeItemValue(fieldDiv.querySelector('.grid'))
        
            // Append the field div to the fields wrapper
            fieldsWrapper.appendChild(fieldDiv);
        }

        function appendMinMaxPrice() {
            // Create the div element with class "field"
            const minPriceField = document.createElement('div');
            minPriceField.classList.add('field');
        
            // Create the div element with class "field__heading"
            const minPriceHeading = document.createElement('div');
            minPriceHeading.classList.add('field__heading');
        
            // Create the paragraph element with class "field__heading__title" and text content "السعر الأدنى"
            const minPriceTitle = document.createElement('p');
            minPriceTitle.classList.add('field__heading__title');
            minPriceTitle.textContent = 'السعر الأدنى';
        
            // Append the title paragraph to the heading div
            minPriceHeading.appendChild(minPriceTitle);
        
            // Append the heading div to the field div
            minPriceField.appendChild(minPriceHeading);
        
            // Create the div element with class "field__content"
            const minPriceContent = document.createElement('div');
            minPriceContent.classList.add('field__content');
        
            // Create the input element with type "text" and placeholder "أدخل السعر الأدنى ر.س" and name 'min-price-input'
            const minPriceInput = document.createElement('input');
            minPriceInput.setAttribute('type', 'text');
            minPriceInput.setAttribute('placeholder', 'أدخل السعر الأدنى ر.س');
            minPriceInput.setAttribute('name', 'min-price-input');
            minPriceInput.setAttribute('id', 'min-price-input');
        
            // Append the input to the content div
            minPriceContent.appendChild(minPriceInput);
        
            // Append the content div to the field div
            minPriceField.appendChild(minPriceContent);
        
            // Append the minPriceField to the fields wrapper
            fieldsWrapper.appendChild(minPriceField);
        
            // Create the div element with class "field"
            const maxPriceField = document.createElement('div');
            maxPriceField.classList.add('field');
        
            // Create the div element with class "field__heading"
            const maxPriceHeading = document.createElement('div');
            maxPriceHeading.classList.add('field__heading');
        
            // Create the paragraph element with class "field__heading__title" and text content "السعر الأعلى"
            const maxPriceTitle = document.createElement('p');
            maxPriceTitle.classList.add('field__heading__title');
            maxPriceTitle.textContent = 'السعر الأعلى';
        
            // Append the title paragraph to the heading div
            maxPriceHeading.appendChild(maxPriceTitle);
        
            // Append the heading div to the field div
            maxPriceField.appendChild(maxPriceHeading);
        
            // Create the div element with class "field__content"
            const maxPriceContent = document.createElement('div');
            maxPriceContent.classList.add('field__content');
        
            // Create the input element with type "text" and placeholder "أدخل السعر الأعلى ر.س" and name 'max-price-input'
            const maxPriceInput = document.createElement('input');
            maxPriceInput.setAttribute('type', 'text');
            maxPriceInput.setAttribute('placeholder', 'أدخل السعر الأعلى ر.س');
            maxPriceInput.setAttribute('name', 'max-price-input');
            maxPriceInput.setAttribute('id', 'max-price-input');
        
            // Append the input to the content div
            maxPriceContent.appendChild(maxPriceInput);
        
            // Append the content div to the field div
            maxPriceField.appendChild(maxPriceContent);
        
            // Append the maxPriceField to the fields wrapper
            fieldsWrapper.appendChild(maxPriceField);
        }
                
        function appendFloorInputField() {
            // Create the div element with class "field"
            const fieldDiv = document.createElement('div');
            fieldDiv.classList.add('field');
        
            // Create the div element with class "field__heading"
            const headingDiv = document.createElement('div');
            headingDiv.classList.add('field__heading');
        
            // Create the paragraph element with class "field__heading__title" and text content "الدور"
            const titleParagraph = document.createElement('p');
            titleParagraph.classList.add('field__heading__title');
            titleParagraph.textContent = 'الدور';
        
            // Append the title paragraph to the heading div
            headingDiv.appendChild(titleParagraph);
        
            // Append the heading div to the field div
            fieldDiv.appendChild(headingDiv);
        
            // Create the div element with class "field__content"
            const contentDiv = document.createElement('div');
            contentDiv.classList.add('field__content');
        
            // Create the input element with type "hidden" and name "floor-input"
            const hiddenInput = document.createElement('input');
            hiddenInput.setAttribute('type', 'hidden');
            hiddenInput.setAttribute('name', 'floor-input');
        
            // Append the hidden input to the content div
            contentDiv.appendChild(hiddenInput);
        
            // Create the div element with class "grid" and class "floor"
            const gridDiv = document.createElement('div');
            gridDiv.classList.add('grid', 'floor');
        
            // Create the six div elements with class "item" and respective data-value attributes
            const allDiv = document.createElement('div');
            allDiv.setAttribute('data-value', '');
            allDiv.classList.add('item');
            allDiv.textContent = 'الكل';
        
            const groundDiv = document.createElement('div');
            groundDiv.setAttribute('data-value', 'أرضي');
            groundDiv.classList.add('item');
            groundDiv.textContent = 'أرضي';
        
            const upperDiv = document.createElement('div');
            upperDiv.setAttribute('data-value', 'علوي');
            upperDiv.classList.add('item');
            upperDiv.textContent = 'علوي';
        
            const thirdDiv = document.createElement('div');
            thirdDiv.setAttribute('data-value', '3');
            thirdDiv.classList.add('item');
            thirdDiv.textContent = '3';
        
            const fourthDiv = document.createElement('div');
            fourthDiv.setAttribute('data-value', '4');
            fourthDiv.classList.add('item');
            fourthDiv.textContent = '4';
        
            const moreDiv = document.createElement('div');
            moreDiv.setAttribute('data-value', 'أكثر');
            moreDiv.classList.add('item');
            moreDiv.textContent = 'أكثر';
        
            // Append the item divs to the grid div
            gridDiv.appendChild(allDiv);
            gridDiv.appendChild(groundDiv);
            gridDiv.appendChild(upperDiv);
            gridDiv.appendChild(thirdDiv);
            gridDiv.appendChild(fourthDiv);
            gridDiv.appendChild(moreDiv);
        
            // Append the grid div to the content div
            contentDiv.appendChild(gridDiv);
        
            // Append the content div to the field div
            fieldDiv.appendChild(contentDiv);
        

            changeItemValue(fieldDiv.querySelector('.grid'))

            // Append the field div to the fields wrapper
            fieldsWrapper.appendChild(fieldDiv);
        }

        


        function appendPropertyAgeField() {
            // Create the div element with class "field"
            const fieldDiv = document.createElement('div');
            fieldDiv.classList.add('field');
        
            // Create the div element with class "field__heading"
            const headingDiv = document.createElement('div');
            headingDiv.classList.add('field__heading');
        
            // Create the paragraph element with class "field__heading__title" and text content "عمر العقار"
            const titleParagraph = document.createElement('p');
            titleParagraph.classList.add('field__heading__title');
            titleParagraph.textContent = 'عمر العقار';
        
            // Append the title paragraph to the heading div
            headingDiv.appendChild(titleParagraph);
        
            // Append the heading div to the field div
            fieldDiv.appendChild(headingDiv);
        
            // Create the div element with class "field__content"
            const contentDiv = document.createElement('div');
            contentDiv.classList.add('field__content');
        
            // Create the select element with name "property-age-select" and id "property-age-select"
            const selectElement = document.createElement('select');
            selectElement.setAttribute('name', 'property-age-select');
            selectElement.setAttribute('id', 'property-age-select');
        
            // Create options for select element
            const options = [
                { value: '', text: 'غير محدد' },
                { value: 'جديد', text: 'جديد' }
            ];
        
            // Add options for ages from 2 to 35+
            for (let i = 2; i <= 24; i++) {
                options.push({ value: i.toString(), text: i.toString() });
            }
            options.push({ value: '25+', text: '25+' });
        
            // Create and append option elements to select element
            options.forEach(optionData => {
                const option = document.createElement('option');
                option.setAttribute('value', optionData.value);
                option.textContent = optionData.text;
                selectElement.appendChild(option);
            });
        
            // Append the select element to the content div
            contentDiv.appendChild(selectElement);
        
            // Append the content div to the field div
            fieldDiv.appendChild(contentDiv);
        
            // Append the field div to the fields wrapper
            fieldsWrapper.appendChild(fieldDiv);
        }
        
        function appendPropertyFloorSelect() {
            // Create the div element with class "field"
            const fieldDiv = document.createElement('div');
            fieldDiv.classList.add('field');
        
            // Create the div element with class "field__heading"
            const headingDiv = document.createElement('div');
            headingDiv.classList.add('field__heading');
        
            // Create the paragraph element with class "field__heading__title" and text content "الدور"
            const titleParagraph = document.createElement('p');
            titleParagraph.classList.add('field__heading__title');
            titleParagraph.textContent = 'الدور';
        
            // Append the title paragraph to the heading div
            headingDiv.appendChild(titleParagraph);
        
            // Append the heading div to the field div
            fieldDiv.appendChild(headingDiv);
        
            // Create the div element with class "field__content"
            const contentDiv = document.createElement('div');
            contentDiv.classList.add('field__content');
        
            // Create the select element with name "property-floor-select" and id "property-floor-select"
            const selectElement = document.createElement('select');
            selectElement.setAttribute('name', 'property-floor-select');
            selectElement.setAttribute('id', 'property-floor-select');
        
            // Create options for select element
            const options = [
                { value: '', text: 'الكل' },
                { value: 'أرضي', text: 'أرضي' },
                { value: 'علوي', text: 'علوي' }
            ];
        
            // Add options for floors from 3 to 7
            for (let i = 3; i <= 7; i++) {
                options.push({ value: i.toString(), text: i.toString() });
            }
            options.push({ value: '+8', text: '+8' });
        
            // Create and append option elements to select element
            options.forEach(optionData => {
                const option = document.createElement('option');
                option.setAttribute('value', optionData.value);
                option.textContent = optionData.text;
                selectElement.appendChild(option);
            });
        
            // Append the select element to the content div
            contentDiv.appendChild(selectElement);
        
            // Append the content div to the field div
            fieldDiv.appendChild(contentDiv);
        
            // Append the field div to the fields wrapper
            fieldsWrapper.appendChild(fieldDiv);
        }
        
        function appendPrivateEnternaceInput() {
            // Create a new div element to hold the input field
            var fieldDiv = document.createElement('div');
            fieldDiv.className = 'field flex'; // Add classes to the div
        
            // Create HTML content for the field div
            fieldDiv.innerHTML = `
                <div class="field__heading">
                    <label for="private_enternace">مدخل خاص</label>
                </div>
                <div class="field__content">
                    <input type="checkbox" name="private_enternace" id="private_enternace">
                </div>
            `;
        
            // Get reference to the fieldWrapper div
            var fieldWrapper = document.querySelector('.fieldWrapper');
        
            // Append the field div to the fieldWrapper div
            fieldsWrapper.appendChild(fieldDiv);
        }
        
        function appendACInput() {
            // Create a new div element to hold the input field
            var fieldDiv = document.createElement('div');
            fieldDiv.className = 'field flex'; // Add classes to the div
        
            // Create HTML content for the field div
            fieldDiv.innerHTML = `
                <div class="field__heading">
                    <label for="ac">مكيف</label>
                </div>
                <div class="field__content">
                    <input type="checkbox" name="ac" id="ac">
                </div>
            `;
        
            // Append the field div to the fieldsWrapper div
            fieldsWrapper.appendChild(fieldDiv);
        }
        
        function appendCarEntranceInput() {
            // Create a new div element to hold the input field
            var fieldDiv = document.createElement('div');
            fieldDiv.className = 'field flex'; // Add classes to the div
        
            // Create HTML content for the field div
            fieldDiv.innerHTML = `
                <div class="field__heading">
                    <label for="car_entrance">مدخل سيارة</label>
                </div>
                <div class="field__content">
                    <input type="checkbox" name="car_entrance" id="car_entrance">
                </div>
            `;
        
            // Append the field div directly to the existing fieldsWrapper div
            fieldsWrapper.appendChild(fieldDiv);
        }
        
        function appendFurnishedInput() {
            // Create a new div element to hold the input field
            var fieldDiv = document.createElement('div');
            fieldDiv.className = 'field flex'; // Add classes to the div
        
            // Create HTML content for the field div
            fieldDiv.innerHTML = `
                <div class="field__heading">
                    <label for="furnished">مؤثثة</label>
                </div>
                <div class="field__content">
                    <input type="checkbox" name="furnished" id="furnished">
                </div>
            `;
        
            // Append the field div directly to the existing fieldsWrapper div
            fieldsWrapper.appendChild(fieldDiv);
        }
        

        function appendMinMaxSpace() {
            // Create the minimum space field
            const minSpaceField = document.createElement('div');
            minSpaceField.classList.add('field');
        
            const minSpaceHeading = document.createElement('div');
            minSpaceHeading.classList.add('field__heading');
            minSpaceHeading.innerHTML = '<p>المساحة الأدنى</p>';
        
            const minSpaceContent = document.createElement('div');
            minSpaceContent.classList.add('field__content');
            const minSpaceInput = document.createElement('input');
            minSpaceInput.setAttribute('name', 'min-space-input');
            minSpaceInput.setAttribute('placeholder', 'أدخل المساحة الأدنى بالمتر المربع');
            minSpaceContent.appendChild(minSpaceInput);
        
            minSpaceField.appendChild(minSpaceHeading);
            minSpaceField.appendChild(minSpaceContent);
        
            // Create the maximum space field
            const maxSpaceField = document.createElement('div');
            maxSpaceField.classList.add('field');
        
            const maxSpaceHeading = document.createElement('div');
            maxSpaceHeading.classList.add('field__heading');
            maxSpaceHeading.innerHTML = '<p>المساحة الأقصى</p>';
        
            const maxSpaceContent = document.createElement('div');
            maxSpaceContent.classList.add('field__content');
            const maxSpaceInput = document.createElement('input');
            maxSpaceInput.setAttribute('name', 'max-space-input');
            maxSpaceInput.setAttribute('placeholder', 'أدخل المساحة الأقصى بالمتر المربع');
            maxSpaceContent.appendChild(maxSpaceInput);
        
            maxSpaceField.appendChild(maxSpaceHeading);
            maxSpaceField.appendChild(maxSpaceContent);
        
            // Append both fields to the fieldsWrapper
            fieldsWrapper.appendChild(minSpaceField);
            fieldsWrapper.appendChild(maxSpaceField);
        }
        
        function appendInterfaceSelectField() {
            const fieldDiv = document.createElement('div');
            fieldDiv.classList.add('field');
        
            const headingDiv = document.createElement('div');
            headingDiv.classList.add('field__heading');
        
            const headingParagraph = document.createElement('p');
            headingParagraph.textContent = 'الواجهة';
        
            headingDiv.appendChild(headingParagraph);
        
            const contentDiv = document.createElement('div');
            contentDiv.classList.add('field__content');
        
            const selectElement = document.createElement('select');
            selectElement.setAttribute('name', 'interface-select');
            selectElement.setAttribute('id', 'interface-select');
        
            const options = [
                { value: '', text: 'الكل' },
                { value: 'شمالية', text: 'شمالية' },
                { value: 'جنوبية', text: 'جنوبية' },
                { value: 'شرقية', text: 'شرقية' },
                { value: 'غربية', text: 'غربية' },
                { value: 'شمالية شرقية', text: 'شمالية شرقية' },
                { value: 'شمالية غربية', text: 'شمالية غربية' },
                { value: 'جنوبية شرقية', text: 'جنوبية شرقية' },
                { value: 'جنوبية غربية', text: 'جنوبية غربية' }
            ];
        
            options.forEach(optionData => {
                const option = document.createElement('option');
                option.setAttribute('value', optionData.value);
                option.textContent = optionData.text;
                selectElement.appendChild(option);
            });
        
            contentDiv.appendChild(selectElement);
        
            fieldDiv.appendChild(headingDiv);
            fieldDiv.appendChild(contentDiv);
        
            fieldsWrapper.appendChild(fieldDiv);
        }

        function appendTwoEnterance() {
            // Create a new div element to hold the input field
            var fieldDiv = document.createElement('div');
            fieldDiv.className = 'field flex'; // Add classes to the div
        
            // Create HTML content for the field div
            fieldDiv.innerHTML = `
                <div class="field__heading">
                    <label for="two_enterance">مدخلين</label>
                </div>
                <div class="field__content">
                    <input type="checkbox" name="two_enterance" id="two_enterance">
                </div>
            `;
        
            // Append the field div to the fieldsWrapper div
            fieldsWrapper.appendChild(fieldDiv);
        }

        function appendInVilla() {
            // Create a new div element to hold the input field
            var fieldDiv = document.createElement('div');
            fieldDiv.className = 'field flex'; // Add classes to the div
        
            // Create HTML content for the field div
            fieldDiv.innerHTML = `
                <div class="field__heading">
                    <label for="in_villa">في فيلا</label>
                </div>
                <div class="field__content">
                    <input type="checkbox" name="in_villa" id="in_villa">
                </div>
            `;
        
            // Append the field div to the fieldsWrapper div
            fieldsWrapper.appendChild(fieldDiv);
        }

        
        function appendStreetWidthInput() {
            // Create div for the field
            var fieldDiv = document.createElement("div");
            fieldDiv.classList.add("field");
        
            // Create div for the field heading
            var headingDiv = document.createElement("div");
            headingDiv.classList.add("field__heading");
            var headingText = document.createElement("p");
            headingText.textContent = "عرض الشارع";
            headingDiv.appendChild(headingText);
        
            // Create div for the field content
            var contentDiv = document.createElement("div");
            contentDiv.classList.add("field__content");
        
            // Create input range element
            var rangeInput = document.createElement("input");
            rangeInput.setAttribute("type", "range");
            rangeInput.setAttribute("name", "street-width-input");
            rangeInput.setAttribute("min", "0");
            rangeInput.setAttribute("max", "100");
            rangeInput.setAttribute("value", "0");
            rangeInput.setAttribute("id", "select-street-width");
        
            // Create paragraph for displaying selected value
            var valueParagraph = document.createElement("p");
            valueParagraph.setAttribute("id", "street-width-input-value");
            var spanElement = document.createElement("span");
            spanElement.textContent = "0";
            valueParagraph.appendChild(spanElement);
            valueParagraph.innerHTML += "م";
        
            // Append elements to contentDiv
            contentDiv.appendChild(rangeInput);
            contentDiv.appendChild(valueParagraph);
        
            // Append headingDiv and contentDiv to fieldDiv
            fieldDiv.appendChild(headingDiv);
            fieldDiv.appendChild(contentDiv);
        
            fieldsWrapper.appendChild(fieldDiv);

            rangeInput.addEventListener('input', () => {
                controlRangeInput(rangeInput);
            }) 
            
        }

        function controlRangeInput(rangeInput) { 
            rangeInput.parentElement.querySelector('#street-width-input-value span').textContent = rangeInput.value;
        }

        function appendPurposeInput() {
            // Create a new div element with class "field"
            const fieldDiv = document.createElement('div');
            fieldDiv.classList.add('field');
        
            // Create a div for heading
            const headingDiv = document.createElement('div');
            headingDiv.classList.add('field__heading');
            const headingParagraph = document.createElement('p');
            headingParagraph.textContent = 'سكني أو تجاري';
            headingDiv.appendChild(headingParagraph);
        
            // Create a div for content
            const contentDiv = document.createElement('div');
            contentDiv.classList.add('field__content');
        
            // Create hidden input
            const hiddenInput = document.createElement('input');
            hiddenInput.setAttribute('type', 'hidden');
            hiddenInput.setAttribute('name', 'purpose-input');
        
            // Create grid div
            const gridDiv = document.createElement('div');
            gridDiv.classList.add('grid');
            gridDiv.classList.add('purpose');
        
            // Create items for grid
            const items = [
                { value: '', text: 'بدون' },
                { value: 'تجاري', text: 'تجاري' },
                { value: 'سكني', text: 'سكني' }
            ];
        
            items.forEach(item => {
                const itemDiv = document.createElement('div');
                itemDiv.classList.add('item');
                itemDiv.setAttribute('data-value', item.value);
                itemDiv.textContent = item.text;
                gridDiv.appendChild(itemDiv);
            });
        
            // Append elements to content div
            contentDiv.appendChild(hiddenInput);
            contentDiv.appendChild(gridDiv);
        
            // Append heading and content divs to field div
            fieldDiv.appendChild(headingDiv);
            fieldDiv.appendChild(contentDiv);
        
            changeItemValue(fieldDiv.querySelector('.grid'));

            // Append field div to fieldsWrapper
            fieldsWrapper.appendChild(fieldDiv);

        }

        
        function appendStreetWidthSelect() {
            const fieldDiv = document.createElement('div');
            fieldDiv.classList.add('field');
        
            const headingDiv = document.createElement('div');
            headingDiv.classList.add('field__heading');
        
            const headingParagraph = document.createElement('p');
            headingParagraph.textContent = 'عرض الشارع';
        
            headingDiv.appendChild(headingParagraph);
        
            const contentDiv = document.createElement('div');
            contentDiv.classList.add('field__content');
        
            const selectElement = document.createElement('select');
            selectElement.setAttribute('name', 'street-width-input');
            selectElement.setAttribute('id', 'street-width-input');
        
            const optionAll = document.createElement('option');
            optionAll.setAttribute('value', '');
            optionAll.textContent = 'الكل';
            selectElement.appendChild(optionAll);
        
            for (let i = 1; i <= 30; i++) {
                const option = document.createElement('option');
                option.setAttribute('value', i.toString());
                option.textContent = i.toString();
                selectElement.appendChild(option);
            }
        
            const option30Plus = document.createElement('option');
            option30Plus.setAttribute('value', '30');
            option30Plus.textContent = '+30';
            selectElement.appendChild(option30Plus);
        
            contentDiv.appendChild(selectElement);
        
            fieldDiv.appendChild(headingDiv);
            fieldDiv.appendChild(contentDiv);
        
            fieldsWrapper.appendChild(fieldDiv);
        }
        
        function appendSwimInput() {
            const fieldDiv = document.createElement('div');
            fieldDiv.classList.add('field', 'flex');
        
            const headingDiv = document.createElement('div');
            headingDiv.classList.add('field__heading');
        
            const labelSwim = document.createElement('label');
            labelSwim.setAttribute('for', 'pool');
            labelSwim.textContent = 'مسبح';
        
            headingDiv.appendChild(labelSwim);
        
            const contentDiv = document.createElement('div');
            contentDiv.classList.add('field__content');
        
            const inputSwim = document.createElement('input');
            inputSwim.setAttribute('type', 'checkbox');
            inputSwim.setAttribute('name', 'pool-input');
            inputSwim.setAttribute('id', 'pool-input');
        
            contentDiv.appendChild(inputSwim);
        
            fieldDiv.appendChild(headingDiv);
            fieldDiv.appendChild(contentDiv);
        
            fieldsWrapper.appendChild(fieldDiv);
        }
        
        function appendDuplexInput() {
            const fieldDiv = document.createElement('div');
            fieldDiv.classList.add('field', 'flex');
        
            const headingDiv = document.createElement('div');
            headingDiv.classList.add('field__heading');
        
            const labelDuplex = document.createElement('label');
            labelDuplex.setAttribute('for', 'duplex-input');
            labelDuplex.textContent = 'دوبلكس';
        
            headingDiv.appendChild(labelDuplex);
        
            const contentDiv = document.createElement('div');
            contentDiv.classList.add('field__content');
        
            const inputDuplex = document.createElement('input');
            inputDuplex.setAttribute('type', 'checkbox');
            inputDuplex.setAttribute('name', 'duplex-input');
            inputDuplex.setAttribute('id', 'duplex-input');
        
            contentDiv.appendChild(inputDuplex);
        
            fieldDiv.appendChild(headingDiv);
            fieldDiv.appendChild(contentDiv);
        
            fieldsWrapper.appendChild(fieldDiv);
        }
    

        function appendRoomsCountInput() {
            // Define the HTML string for the rooms count input
            var roomsCountInputHTML = `
                <div class="field">
                    <div class="field__heading">
                        <p>عدد الغرف</p>
                    </div>
                    <div class="field__content">
                        <select name="rooms-count-input">
                            <option value="">الكل</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="+8">+8</option>
                        </select>
                    </div>
                </div>
            `;
            
            // Append the HTML to the fieldsWrapper variable
            fieldsWrapper.innerHTML += roomsCountInputHTML;
        }
        
        function appendLoungesCountInput() {
            // Define the HTML string for the lounges count input
            var loungesCountInputHTML = `
            <div class="field">
                <div class="field__heading">
                    <p>عدد الصالات</p> <!-- Changed text content to "عدد الصالات" -->
                </div>
                <div class="field__content">
                    <select name="lounges-count-input"> <!-- Changed select name to "lounges-count-input" -->
                        <option value="">الكل</option>
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="+8">+8</option>
                    </select>
                </div>
            </div>
            
            `;
            
            // Append the HTML to the fieldsWrapper variable
            fieldsWrapper.innerHTML += loungesCountInputHTML;
        }
    
        function appendBathroomsCountInput() {
            // Define the HTML string for the bathrooms count input
            var bathroomsCountInputHTML = `
                <div class="field">
                    <div class="field__heading">
                        <p>عدد دورات المياه</p>
                    </div>
                    <div class="field__content">
                        <select name="bathrooms-count-input">
                            <option value="">الكل</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="+8">+8</option>
                        </select>
                    </div>
                </div>
            `;
            
            // Append the HTML to the fieldsWrapper variable
            fieldsWrapper.innerHTML += bathroomsCountInputHTML;
        }
        
        function appendFootballField() {
            // Create the outer div with class "field flex"
            var fieldDiv = document.createElement("div");
            fieldDiv.className = "field flex";
        
            // Create the div with class "field__heading" and the paragraph inside
            var headingDiv = document.createElement("div");
            headingDiv.className = "field__heading";
            var headingParagraph = document.createElement("p");
            headingParagraph.textContent = "ملعب كرة قدم"; // Text in Arabic
            headingDiv.appendChild(headingParagraph);
        
            // Create the div with class "field__content" and the checkbox inside
            var contentDiv = document.createElement("div");
            contentDiv.className = "field__content";
            var checkboxInput = document.createElement("input");
            checkboxInput.type = "checkbox";
            checkboxInput.name = "football_field";
            checkboxInput.id = "football_field";
            contentDiv.appendChild(checkboxInput);
        
            // Append the heading and content divs to the field div
            fieldDiv.appendChild(headingDiv);
            fieldDiv.appendChild(contentDiv);
        
            // Append the field div to the fieldsWrapper
            fieldsWrapper.appendChild(fieldDiv);
        }
        
        function appendVolleyballField() {
            // Create the outer div with class "field flex"
            var fieldDiv = document.createElement("div");
            fieldDiv.className = "field flex";
        
            // Create the div with class "field__heading" and the paragraph inside
            var headingDiv = document.createElement("div");
            headingDiv.className = "field__heading";
            var headingParagraph = document.createElement("p");
            headingParagraph.textContent = "ملعب كرة طائرة"; // Text in Arabic
            headingDiv.appendChild(headingParagraph);
        
            // Create the div with class "field__content" and the checkbox inside
            var contentDiv = document.createElement("div");
            contentDiv.className = "field__content";
            var checkboxInput = document.createElement("input");
            checkboxInput.type = "checkbox";
            checkboxInput.name = "volly_field";
            checkboxInput.id = "volly_field";
            contentDiv.appendChild(checkboxInput);
        
            // Append the heading and content divs to the field div
            fieldDiv.appendChild(headingDiv);
            fieldDiv.appendChild(contentDiv);
        
            // Append the field div to the fieldsWrapper
            fieldsWrapper.appendChild(fieldDiv);
        }


        function appendHairTentHouse() {
            // Create the outer div with class "field flex"
            var fieldDiv = document.createElement("div");
            fieldDiv.className = "field flex";
        
            // Create the div with class "field__heading" and the paragraph inside
            var headingDiv = document.createElement("div");
            headingDiv.className = "field__heading";
            var headingParagraph = document.createElement("p");
            headingParagraph.textContent = "بيت شعر"; // Text in Arabic
            headingDiv.appendChild(headingParagraph);
        
            // Create the div with class "field__content" and the checkbox inside
            var contentDiv = document.createElement("div");
            contentDiv.className = "field__content";
            var checkboxInput = document.createElement("input");
            checkboxInput.type = "checkbox";
            checkboxInput.name = "hair_tent_house";
            checkboxInput.id = "hair_tent_house";
            contentDiv.appendChild(checkboxInput);
        
            // Append the heading and content divs to the field div
            fieldDiv.appendChild(headingDiv);
            fieldDiv.appendChild(contentDiv);
        
            // Append the field div to the fieldsWrapper
            fieldsWrapper.appendChild(fieldDiv);
        }
        
        function appendKitchen() {
            // Create the outer div with class "field flex"
            var fieldDiv = document.createElement("div");
            fieldDiv.className = "field flex";
        
            // Create the div with class "field__heading" and the paragraph inside
            var headingDiv = document.createElement("div");
            headingDiv.className = "field__heading";
            var headingParagraph = document.createElement("p");
            headingParagraph.textContent = "مطبخ"; // Text in Arabic
            headingDiv.appendChild(headingParagraph);
        
            // Create the div with class "field__content" and the checkbox inside
            var contentDiv = document.createElement("div");
            contentDiv.className = "field__content";
            var checkboxInput = document.createElement("input");
            checkboxInput.type = "checkbox";
            checkboxInput.name = "kitchen";
            checkboxInput.id = "kitchen";
            contentDiv.appendChild(checkboxInput);
        
            // Append the heading and content divs to the field div
            fieldDiv.appendChild(headingDiv);
            fieldDiv.appendChild(contentDiv);
        
            // Append the field div to the fieldsWrapper
            fieldsWrapper.appendChild(fieldDiv);
        }
        
        function appendAmusement() {
            // Create the outer div with class "field flex"
            var fieldDiv = document.createElement("div");
            fieldDiv.className = "field flex";
        
            // Create the div with class "field__heading" and the paragraph inside
            var headingDiv = document.createElement("div");
            headingDiv.className = "field__heading";
            var headingParagraph = document.createElement("p");
            headingParagraph.textContent = "ملاهي"; // Text in Arabic
            headingDiv.appendChild(headingParagraph);
        
            // Create the div with class "field__content" and the checkbox inside
            var contentDiv = document.createElement("div");
            contentDiv.className = "field__content";
            var checkboxInput = document.createElement("input");
            checkboxInput.type = "checkbox";
            checkboxInput.name = "amusement";
            checkboxInput.id = "amusement";
            contentDiv.appendChild(checkboxInput);
        
            // Append the heading and content divs to the field div
            fieldDiv.appendChild(headingDiv);
            fieldDiv.appendChild(contentDiv);
        
            // Append the field div to the fieldsWrapper
            fieldsWrapper.appendChild(fieldDiv);
        }
    
        function appendFamilyPart() {
            // Create the outer div with class "field flex"
            var fieldDiv = document.createElement("div");
            fieldDiv.className = "field flex";
        
            // Create the div with class "field__heading" and the paragraph inside
            var headingDiv = document.createElement("div");
            headingDiv.className = "field__heading";
            var headingParagraph = document.createElement("p");
            headingParagraph.textContent = "قسم عوائل"; // Text in Arabic
            headingDiv.appendChild(headingParagraph);
        
            // Create the div with class "field__content" and the checkbox inside
            var contentDiv = document.createElement("div");
            contentDiv.className = "field__content";
            var checkboxInput = document.createElement("input");
            checkboxInput.type = "checkbox";
            checkboxInput.name = "family_part";
            checkboxInput.id = "family_part";
            contentDiv.appendChild(checkboxInput);
        
            // Append the heading and content divs to the field div
            fieldDiv.appendChild(headingDiv);
            fieldDiv.appendChild(contentDiv);
        
            // Append the field div to the fieldsWrapper
            fieldsWrapper.appendChild(fieldDiv);
        }
        
        
        
        let filterBtn = document.querySelector('#filter-btn'); 
        let propertyTypeSelect = document.querySelector("[name=property_type]");

        propertyTypeSelect.addEventListener('change', ()=> {
            fieldsWrapper.innerHTML = "";
            propertyTypeSelectValue = propertyTypeSelect.value; 
            if (propertyTypeSelectValue == 'apartment_rent' || propertyTypeSelectValue == 'apartment_sale') {
                // show the filters for apartment 
                appendRentTypeField();
                appendRoomsCountInput(); 
                appendFamiliesSinglesField(); 
                appendMinMaxPrice(); 
                appendPropertyFloorSelect(); 
                appendPropertyAgeField(); 
                appendPrivateEnternaceInput();
                appendACInput();
                appendCarEntranceInput();
                appendFurnishedInput();
            }  else if (propertyTypeSelectValue =='villa_rent') {
                appendMinMaxPrice();
                appendRoomsCountInput(); 
                appendBathroomsCountInput(); 
                appendLoungesCountInput();
                appendMinMaxSpace();
                appendPropertyAgeField();
                {% comment %} appendStreetWidthSelect(); {% endcomment %}
                appendStreetWidthInput(); 
                appendInterfaceSelectField();
                appendSwimInput();
                appendDuplexInput();
                appendFurnishedInput(); 

            } else if (propertyTypeSelectValue == 'floor_rent') { 
                appendRoomsCountInput(); 
                appendLoungesCountInput() ;
                appendBathroomsCountInput(); 
                appendPropertyFloorSelect();
                appendMinMaxSpace(); 
                appendPropertyAgeField(); 
                appendMinMaxPrice(); 
                appendACInput(); 
                appendPrivateEnternaceInput(); 
                appendCarEntranceInput();   
                appendTwoEnterance(); 
                appendInVilla();
            } else if (propertyTypeSelectValue == 'shop_rent') {
                appendMinMaxSpace(); 
                appendStreetWidthInput();
            } else if (propertyTypeSelectValue == 'resthouse_rent') {
                appendFamilyPart(); 
                appendRentTypeField(); 
                appendMinMaxPrice(); 
                appendMinMaxSpace();
                appendSwimInput(); 
                appendFootballField(); 
                appendVolleyballField();
                appendHairTentHouse();
                appendKitchen();
                appendAmusement();  

            } else if (propertyTypeSelectValue == 'commercial_office_rent') { 
                appendFurnishedInput(); 
                appendMinMaxPrice(); 
                appendStreetWidthInput(); 
                appendMinMaxSpace();
            } else if (propertyTypeSelectValue == 'land_rent') {
                appendPurposeInput();
                appendMinMaxSpace(); 
                appendInterfaceSelectField(); 
                appendStreetWidthInput(); 
            } else if (propertyTypeSelectValue == 'shop_sale') { 
                appendMinMaxPrice(); 
                appendStreetWidthInput(); 
                appendMinMaxSpace() ;
            } else if (propertyTypeSelectValue == 'resthouse_sale') { 
                appendMinMaxPrice(); 
                appendMinMaxSpace(); 
                appendStreetWidthInput(); 
                appendPropertyAgeField();
            } else if (propertyTypeSelectValue =='land_sale') {
                appendPurposeInput(); 
                appendMinMaxPrice(); 
                appendMinMaxSpace();
                appendInterfaceSelectField(); 
                appendStreetWidthInput(); 
            }
        })

        filterBtn.addEventListener('click', ()=> {
            let cityInput = document.querySelector('[name=city]').value; 
            let district = document.querySelector('[name=district]').value; 


            if  (propertyTypeSelect.value == 'apartment_rent') {
                // مدخل خاص
                // مكيف 
                // مدخل سيارة 
                // مؤثثة 


                // get all variables 
                let roomsCountInput = document.querySelector('[name=rooms-count-input]').value; 
                let rentTypeInput = document.querySelector('[name=rent_type_input]').value 
                let familes_singlesInput = document.querySelector('[name=single-or-family-input]').value;  
                let minPriceInput = document.querySelector('[name=min-price-input]'); 
                let maxPriceInput = document.querySelector('[name=max-price-input]'); 
                let propertyFloorSelect = document.querySelector('[name=property-floor-select]').value; 
                let propertyAgeSelect = document.querySelector("[name=property-age-select]").value;
                let privateEnteranceInput = document.querySelector('input[name=private_enternace]'); 
                let acInput = document.querySelector('input[name=ac]'); 
                let carEntranceInput = document.querySelector('input[name=car_entrance]'); 
                let furnishedInput = document.querySelector('input[name=furnished]'); 
                
                let privateEnteranceInputValue, acInputValue, carEntranceInputValue, furnishedInputValue; 

                if (privateEnteranceInput.checked)  {
                    privateEnteranceInput = 1; 
                } else { 
                    privateEnteranceInputValue = "" ; 
                }

                if (acInput.checked)  {
                    acInputValue = 1; 
                } else { 
                    acInputValue == "" ; 
                }

                if (carEntranceInput.checked)  {
                    carEntranceInputValue = 1; 
                } else { 
                    carEntranceInputValue = "" 
                }

                if (furnishedInput.checked)  {
                    furnishedInputValue = 1; 
                } else { 
                    furnishedInputValue = "" 
                }

                let families, single= 0; 
                if (familes_singlesInput == 'families') { 
                    families = 1; 
                    single = 0; 
                } else if (familes_singlesInput == 'single') { 
                    single = 1; 
                    families = 0 ;
                } else if (familes_singlesInput == '') {
                    families = "" 
                    single = "" 
                }


                var filters = {
                    'p_type': propertyTypeSelectValue,
                    'city': cityInput, 
                    'rooms': roomsCountInput, 
                    'neighborhood__icontains': district, 
                    'rent_type': rentTypeInput,
                    'families': families, 
                    'single': single, 
                    'price__gte': minPriceInput.value, 
                    'price__lte': maxPriceInput.value, 
                    'floor': propertyFloorSelect, 
                    'property_age': propertyAgeSelect, 
                    'private_enternace': privateEnteranceInputValue, 
                    'ac': acInputValue, 
                    'car_entrance': carEntranceInputValue, 
                    'furnished': furnishedInputValue, 
                    'sale': 0
                }

                $.ajax({
                    url: "{% url 'property:filter-properties' %}",
                    method: 'GET', // or 'POST', 'PUT', 'DELETE', etc. depending on the HTTP method you need
                    data: filters, 
                    success: function(response) { // callback function to handle successful response
                      // Do something with the response data
                      console.log(response)
                      let propertyGrid = document.querySelector('.property_grid') 
                      propertyGrid.innerHTML = response;
                    },
                    error: function(xhr, status, error) { // callback function to handle errors
                      // Handle the error
                      console.error(xhr, status, error);
                    }
                });
                  


            } else if (propertyTypeSelect.value =='villa_rent') {


                let minPriceInput = document.querySelector('[name=min-price-input]'); 
                let maxPriceInput = document.querySelector('[name=max-price-input]'); 
                let roomsCount = document.querySelector('[name=rooms-count-input]'), 
                    loungesCount = document.querySelector('[name=lounges-count-input]'), 
                    bathroomsCount = document.querySelector('[name=bathrooms-count-input]'), 
                    minSpaceInput = document.querySelector('[name=min-space-input]'),
                    maxSpaceInput =document.querySelector('[name=max-space-input]'), 
                    propertyAge = document.querySelector("[name=property-age-select]"), 
                    streetWidth = document.querySelector('[name=street-width-input]'), 
                    poolInput = document.querySelector('[name=pool-input]'), 
                    duplexInput = document.querySelector("[name=duplex-input]"), 
                    furnishedInput = document.querySelector('[name=furnished]'), 
                    interfaceInput = document.querySelector('[name=interface-select]'); 


                let poolInputValue = "" 
                if (poolInput.checked) {
                    poolInputValue = "1"; 
                } 
                let furnishedInputValue = "";
                if (furnishedInput.checked) {
                    furnishedInputValue = "1";
                }
                
                let duplexInputValue = "";
                if (duplexInput.checked) {
                    duplexInputValue = "1";
                }


                    filters = {
                    'p_type': propertyTypeSelectValue,
                    'city': cityInput, 
                    'rooms': roomsCount.value, 
                    'neighborhood__icontains': district,
                    'price__gte': minPriceInput.value, 
                    'price__lte': maxPriceInput.value, 
                    'space__gte': minSpaceInput.value, 
                    'space__lte': maxSpaceInput.value, 
                    'lounges': loungesCount.value, 
                    'bathroom': bathroomsCount.value, 
                    'property_age': propertyAge.value, 
                    'street_width': streetWidth.value, 
                    'pool': poolInputValue, 
                    'duplex': duplexInputValue, 
                    'furnished': furnishedInputValue, 
                    'interface': interfaceInput.value ,
                    'sale': 0
                }

            
                $.ajax({
                    url: "{% url 'property:filter-properties' %}",
                    method: 'GET', // or 'POST', 'PUT', 'DELETE', etc. depending on the HTTP method you need
                    data: filters, 
                    success: function(response) { // callback function to handle successful response
                      // Do something with the response data
                      console.log(response)
                      let propertyGrid = document.querySelector('.property_grid') 
                      propertyGrid.innerHTML = response;
                    },
                    error: function(xhr, status, error) { // callback function to handle errors
                      // Handle the error
                      console.error(xhr, status, error);
                    }
                });


                

            } else if (propertyTypeSelect.value == 'floor_rent') { 
                // rooms 
                // lounges 
                // bathrooms 
                // floor 
                // space 
                // property age 
                // price 
                // car_entrance 
                // ac 
                // in_villa 
                // two_enterance
                // private_enternace

                let minPriceInput = document.querySelector('[name=min-price-input]'); 
                let maxPriceInput = document.querySelector('[name=max-price-input]'); 
                let roomsCount = document.querySelector('[name=rooms-count-input]'), 
                    loungesCount = document.querySelector('[name=lounges-count-input]'), 
                    bathroomsCount = document.querySelector('[name=bathrooms-count-input]'), 
                    minSpaceInput = document.querySelector('[name=min-space-input]'),
                    maxSpaceInput =document.querySelector('[name=max-space-input]'), 
                    propertyAge = document.querySelector("[name=property-age-select]") 
                
                let propertyAgeSelect = document.querySelector("[name=property-age-select]").value;
                let privateEnteranceInput = document.querySelector('input[name=private_enternace]'); 
                let acInput = document.querySelector('input[name=ac]'); 
                let carEntranceInput = document.querySelector('input[name=car_entrance]'); 
                let propertyFloorSelect = document.querySelector('[name=property-floor-select]').value; 
                let inVillaInput = document.querySelector('[name=in_villa]')
                let two_enterance = document.querySelector('[name=two_enterance]')

                let acInputValue = "" 
                if (acInput.checked) { 
                    acInputValue = '1'
                }


                let inVillaInputValue = ""; 
                if (inVillaInput.checked) { 
                    inVillaInputValue = '1';
                }
                
                let two_enterance_value = ""; 
                if (two_enterance.checked) { 
                    two_enterance_value = '1';
                }
                
                let privateEnteranceInputValue = ""; 
                if (privateEnteranceInput.checked) { 
                    privateEnteranceInputValue = '1';
                }
                
                let carEntranceInputValue = ""; 
                if (carEntranceInput.checked) { 
                    carEntranceInputValue = '1';
                }
                

                var filters = {
                    'p_type': propertyTypeSelectValue,
                    'city': cityInput, 
                    'rooms': roomsCount.value, 
                    'neighborhood__icontains': district, 
                    'price__gte': minPriceInput.value, 
                    'price__lte': maxPriceInput.value, 
                    'floor': propertyFloorSelect, 
                    'bathroom': bathroomsCount.value, 
                    'property_age': propertyAgeSelect, 
                    'private_enternace': privateEnteranceInputValue, 
                    'car_entrance': carEntranceInputValue, 
                    'sale': 0,
                    'space__gte': minSpaceInput.value, 
                    'space__lte': maxSpaceInput.value, 
                    'lounges': loungesCount.value, 
                    'ac': acInputValue, 
                    'in_villa': inVillaInputValue, 
                    'two_enternace': two_enterance_value, 
                    'private_enternace': privateEnteranceInputValue, 
                    'car_entrance': carEntranceInputValue
                }

                $.ajax({
                    url: "{% url 'property:filter-properties' %}",
                    method: 'GET', // or 'POST', 'PUT', 'DELETE', etc. depending on the HTTP method you need
                    data: filters, 
                    success: function(response) { // callback function to handle successful response
                      // Do something with the response data
                      console.log(response)
                      let propertyGrid = document.querySelector('.property_grid') 
                      propertyGrid.innerHTML = response;
                    },
                    error: function(xhr, status, error) { // callback function to handle errors
                      // Handle the error
                      console.error(xhr, status, error);
                    }
                });


            } else if (propertyTypeSelect.value == 'shop_rent') { 

                let streetWidth = document.querySelector('[name=street-width-input]'),
                minSpaceInput = document.querySelector('[name=min-space-input]'),
                maxSpaceInput =document.querySelector('[name=max-space-input]'); 


                var filters = {
                    'p_type': propertyTypeSelectValue,
                    'city': cityInput, 
                    'neighborhood__icontains': district, 
                    'space__gte': minSpaceInput.value, 
                    'space__lte': maxSpaceInput.value,
                    'street_width': streetWidth.value, 
                    'sale': 0
                }
                $.ajax({
                    url: "{% url 'property:filter-properties' %}",
                    method: 'GET', // or 'POST', 'PUT', 'DELETE', etc. depending on the HTTP method you need
                    data: filters, 
                    success: function(response) { // callback function to handle successful response
                      // Do something with the response data
                      console.log(response)
                      let propertyGrid = document.querySelector('.property_grid') 
                      propertyGrid.innerHTML = response;
                    },
                    error: function(xhr, status, error) { // callback function to handle errors
                      // Handle the error
                      console.error(xhr, status, error);
                    }
                });
            } else if (propertyTypeSelect.value == 'resthouse_rent') {
                let familyPart = document.querySelector('#family_part'); 
                let rentTypeInput = document.querySelector('[name=rent_type_input]').value; 
                let minPriceInput = document.querySelector('[name=min-price-input]'); 
                let maxPriceInput = document.querySelector('[name=max-price-input]'); 
                let minSpaceInput = document.querySelector('[name=min-space-input]'); 
                let maxSpaceInput =document.querySelector('[name=max-space-input]'); 
                let poolInput = document.querySelector('[name=pool-input]'); 
                let footballField = document.querySelector('#football_field'); 
                let vollyField = document.querySelector('#volly_field'); 
                let hairTentHouse = document.querySelector('#hair_tent_house'); 
                let kitchen = document.querySelector('#kitchen'); 
                let amusement = document.querySelector("#amusement");
                
                let familyPartValue = ""; 
                if (familyPart.checked) { 
                    familyPartValue = 1; 
                }

                // For poolInput
                let poolInputValue = ""; 
                if (poolInput.checked) { 
                    poolInputValue = 1; 
                }

                // For footballField
                let footballFieldValue = ""; 
                if (footballField.checked) { 
                    footballFieldValue = 1; 
                }

                // For vollyField
                let vollyFieldValue = ""; 
                if (vollyField.checked) { 
                    vollyFieldValue = 1; 
                }

                // For hairTentHouse
                let hairTentHouseValue = ""; 
                if (hairTentHouse.checked) { 
                    hairTentHouseValue = 1; 
                }

                // For kitchen
                let kitchenValue = ""; 
                if (kitchen.checked) { 
                    kitchenValue = 1; 
                }

                // For amusement
                let amusementValue = ""; 
                if (amusement.checked) { 
                    amusementValue = 1; 
                }


                filters = {
                    'p_type': propertyTypeSelectValue,
                    'city': cityInput, 
                    'neighborhood__icontains': district,  
                    'space__gte': minSpaceInput.value, 
                    'space__lte': maxSpaceInput.value,
                    'price__gte': minPriceInput.value, 
                    'price__lte': maxPriceInput.value, 
                    'rent_type': rentTypeInput.value, 
                    'family_part': familyPartValue, 
                    'pool': poolInputValue, 
                    'football_field': footballFieldValue, 
                    'volly_field': vollyFieldValue, 
                    'hair_tent_house': hairTentHouseValue, 
                    'kitchen': kitchenValue, 
                    'amusement': amusementValue, 
                    'sale': 0
                }

                
                $.ajax({
                    url: "{% url 'property:filter-properties' %}",
                    method: 'GET', // or 'POST', 'PUT', 'DELETE', etc. depending on the HTTP method you need
                    data: filters, 
                    success: function(response) { // callback function to handle successful response
                      // Do something with the response data
                      console.log(response)
                      let propertyGrid = document.querySelector('.property_grid') 
                      propertyGrid.innerHTML = response;
                    },
                    error: function(xhr, status, error) { // callback function to handle errors
                      // Handle the error
                      console.error(xhr, status, error);
                    }
                });

                
            } else if (propertyTypeSelect.value == 'commercial_office_rent')  {
                let minPriceInput = document.querySelector('[name=min-price-input]'); 
                let maxPriceInput = document.querySelector('[name=max-price-input]'); 
                let minSpaceInput = document.querySelector('[name=min-space-input]'); 
                let maxSpaceInput =document.querySelector('[name=max-space-input]'); 
                let streetWidth = document.querySelector('[name=street-width-input]'); 
                let furnishedInput = document.querySelector('input[name=furnished]'); 
                let furnishedInputValue = "";
                if (furnishedInput.checked)  {
                    furnishedInputValue = 1; 
                } else { 
                    furnishedInputValue = "" 
                }

                filters = {
                    'p_type': propertyTypeSelectValue,
                    'city': cityInput, 
                    'neighborhood__icontains': district,  
                    'space__gte': minSpaceInput.value, 
                    'space__lte': maxSpaceInput.value,
                    'price__gte': minPriceInput.value, 
                    'price__lte': maxPriceInput.value, 
                    'street_width': streetWidth.value, 
                    'sale': '0', 
                    'furnished': furnishedInputValue
                }
                $.ajax({
                    url: "{% url 'property:filter-properties' %}",
                    method: 'GET', // or 'POST', 'PUT', 'DELETE', etc. depending on the HTTP method you need
                    data: filters, 
                    success: function(response) { // callback function to handle successful response
                      // Do something with the response data
                      console.log(response)
                      let propertyGrid = document.querySelector('.property_grid') 
                      propertyGrid.innerHTML = response;
                    },
                    error: function(xhr, status, error) { // callback function to handle errors
                      // Handle the error
                      console.error(xhr, status, error);
                    }
                });



            } else if (propertyTypeSelect.value == 'land_rent') { 
                let minSpaceInput = document.querySelector('[name=min-space-input]'); 
                let maxSpaceInput =document.querySelector('[name=max-space-input]'); 
                let streetWidth = document.querySelector('[name=street-width-input]'); 
                let interfaceInput = document.querySelector('[name=interface-select]'); 
                let purposeInput = document.querySelector('[name=purpose-input]'); 

                filters = {
                    'p_type': propertyTypeSelectValue,
                    'city': cityInput, 
                    'neighborhood__icontains': district,  
                    'space__gte': minSpaceInput.value, 
                    'space__lte': maxSpaceInput.value,
                    'sale':'0',
                    'street_width': streetWidth.value, 
                    'interface': interfaceInput.value ,
                    'purpose': purposeInput.value 
                }

                $.ajax({
                    url: "{% url 'property:filter-properties' %}",
                    method: 'GET', // or 'POST', 'PUT', 'DELETE', etc. depending on the HTTP method you need
                    data: filters, 
                    success: function(response) { // callback function to handle successful response
                      // Do something with the response data
                      console.log(response)
                      let propertyGrid = document.querySelector('.property_grid') 
                      propertyGrid.innerHTML = response;
                    },
                    error: function(xhr, status, error) { // callback function to handle errors
                      // Handle the error
                      console.error(xhr, status, error);
                    }
                });
                                
                
            } else if (propertyTypeSelect.value == 'shop_sale') {

                let minPriceInput = document.querySelector('[name=min-price-input]'); 
                let maxPriceInput = document.querySelector('[name=max-price-input]'); 
                let minSpaceInput = document.querySelector('[name=min-space-input]');
                let maxSpaceInput =document.querySelector('[name=max-space-input]'); 
                let streetWidth = document.querySelector('[name=street-width-input]'); 

                
                filters = {
                    'p_type': propertyTypeSelectValue,
                    'city': cityInput, 
                    'neighborhood__icontains': district,
                    'price__gte': minPriceInput.value, 
                    'price__lte': maxPriceInput.value, 
                    'space__gte': minSpaceInput.value, 
                    'space__lte': maxSpaceInput.value, 
                    'street_width': streetWidth.value, 
                    'sale': 1
                }


                $.ajax({
                    url: "{% url 'property:filter-properties' %}",
                    method: 'GET', // or 'POST', 'PUT', 'DELETE', etc. depending on the HTTP method you need
                    data: filters, 
                    success: function(response) { // callback function to handle successful response
                      // Do something with the response data
                      console.log(response)
                      let propertyGrid = document.querySelector('.property_grid') 
                      propertyGrid.innerHTML = response;
                    },
                    error: function(xhr, status, error) { // callback function to handle errors
                      // Handle the error
                      console.error(xhr, status, error);
                    }
                });
            } else if (propertyTypeSelect.value == 'resthouse_sale') { 
                let minPriceInput = document.querySelector('[name=min-price-input]'); 
                let maxPriceInput = document.querySelector('[name=max-price-input]'); 
                let minSpaceInput = document.querySelector('[name=min-space-input]');
                let maxSpaceInput =document.querySelector('[name=max-space-input]'); 
                let streetWidth = document.querySelector('[name=street-width-input]'); 
                let propertyAgeSelect = document.querySelector("[name=property-age-select]").value;


                filters = {
                    'p_type': propertyTypeSelectValue,
                    'city': cityInput, 
                    'neighborhood__icontains': district,
                    'price__gte': minPriceInput.value, 
                    'price__lte': maxPriceInput.value, 
                    'space__gte': minSpaceInput.value, 
                    'space__lte': maxSpaceInput.value, 
                    'street_width': streetWidth.value, 
                    'property_age': propertyAgeSelect, 
                    'sale': 1
                }


                $.ajax({
                    url: "{% url 'property:filter-properties' %}",
                    method: 'GET', // or 'POST', 'PUT', 'DELETE', etc. depending on the HTTP method you need
                    data: filters, 
                    success: function(response) { // callback function to handle successful response
                      // Do something with the response data
                      console.log(response)
                      let propertyGrid = document.querySelector('.property_grid') 
                      propertyGrid.innerHTML = response;
                    },
                    error: function(xhr, status, error) { // callback function to handle errors
                      // Handle the error
                      console.error(xhr, status, error);
                    }
                });



            } else if (propertyTypeSelect.value == 'land_sale') {
                let minPriceInput = document.querySelector('[name=min-price-input]'); 
                let maxPriceInput = document.querySelector('[name=max-price-input]'); 
                let minSpaceInput = document.querySelector('[name=min-space-input]');
                let maxSpaceInput =document.querySelector('[name=max-space-input]'); 
                let streetWidth = document.querySelector('[name=street-width-input]');
                let interfaceInput = document.querySelector('[name=interface-select]'); 
                let purposeInput = document.querySelector('[name=purpose-input]'); 

                filters = {
                    'p_type': propertyTypeSelectValue,
                    'city': cityInput, 
                    'neighborhood__icontains': district,
                    'price__gte': minPriceInput.value, 
                    'price__lte': maxPriceInput.value, 
                    'space__gte': minSpaceInput.value, 
                    'space__lte': maxSpaceInput.value, 
                    'street_width': streetWidth.value, 
                    'purpose': purposeInput.value,
                    'interface': interfaceInput.value, 
                    'sale': 1
                }


                $.ajax({
                    url: "{% url 'property:filter-properties' %}",
                    method: 'GET', // or 'POST', 'PUT', 'DELETE', etc. depending on the HTTP method you need
                    data: filters, 
                    success: function(response) { // callback function to handle successful response
                      // Do something with the response data
                      console.log(response)
                      let propertyGrid = document.querySelector('.property_grid') 
                      propertyGrid.innerHTML = response;
                    },
                    error: function(xhr, status, error) { // callback function to handle errors
                      // Handle the error
                      console.error(xhr, status, error);
                    }
                });


            }
        })

        // Code reset btn 
        let resetBtn = document.querySelector('#reset-btn'); 
        resetBtn.addEventListener('click', () => {
            searchFilters.querySelectorAll('select').forEach((select)=> {
                if (select.name != 'property_type') { 
                    select.selectedIndex = 0 ;
                }
            })
            searchFilters.querySelectorAll("input").forEach((input) => {
                input.value = ""; 
            })
            searchFilters.querySelectorAll('.grid').forEach((grid) => {
                let gridItems = grid.querySelectorAll(".item"); 
                gridItems.forEach((item) => {
                    item.style.background = 'var(--secondary-color)'
                    item.style.color = "var(--primary-color)"; 
                })
                gridItems[0].style.background = "var(--primary-color)"; 
                gridItems[0].style.color = 'var(--secondary-color)';
                grid.parentElement.querySelector('input').value = ""; 
            })

            searchFilters.querySelectorAll('input[type=checkbox]').forEach((input) => {
                input.checked = false; 
            })
        })



    </script>


    {% endblock content %}

