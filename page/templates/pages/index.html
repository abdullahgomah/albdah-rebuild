{% extends 'base.html' %}
{% load static %}



{% block title %}
    مكتب البداح للعقارات | الصفحة الرئيسية
{% endblock title %}
    


{% block stylesheets %}
    <!-- <link rel="stylesheet" href="{% static 'css/pages/main.css' %}"> -->
    <link rel="stylesheet" href="{% static 'css/pages/index.css' %}">
    <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css"
  />
  
  <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
  
  <style>


    .swiper {
        min-width: 100%; 
        height: 100%;
      }
  
      .swiper-slide {
        text-align: center;
        display: flex;
        justify-content: center;
        align-items: center;
        width: fit-content !important;
      }
      .swiper-wrapper {
        column-gap: 1rem;
        padding: .5rem 0;
      }
  
      .swiper-slide img {
        display: block;
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
  </style>
{% endblock stylesheets %}
    



{% block content %}

<style>
    .messages .success {
        list-style: none;
        background: #28a74580;
        color: white;
        width: 100%;
        min-height: 30px;
        padding: 1rem ;
        line-height: 30px;
        text-align: center;
    }
    .messages li {
        transition: all .2s ease-in-out;
    }

    .intro__title {
        font-family: "Rakkas", serif; 
        
    }
</style>

    
{% if messages %}
<ul class="messages">
    {% for message in messages %}
    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
    {% endfor %}
</ul>
{% endif %}

    <main>
        <div class="container">
            <div class="intro">
                <h1 class="intro__title">
                    <!-- البداح ... حلِّك بحِلِّك وترحالك -->
                    {{info.title}}
                </h1>
                <p>
                    <!-- تجربة آمنة تقدمها لكم مكاتب البداح للعقارات من خلال تقديم أفضل الخدمات والحلول التسويقية -->
                    {{info.slogan}}
                </p>
            </div>
            <div class="cta">
                <a class="btn btn-solid-success" id="search-filter-open-btn">
                    ابحث عن عقار
                    <img src="{% static 'imgs/search-icon.png' %}" alt="">
                </a>
                <a href="{% url 'maps:search-with-map' %}" class="btn btn-solid-success">
                    بحث بالخريطة
                    <img src="{% static 'imgs/map-logo.svg.png' %}" alt="">
                </a>
                <a href="{% url 'property:add-property-interface' %}" class="btn btn-solid-success">
                    إضافة عقار
                    <img src="{% static 'imgs/add-property-icon.png' %}" alt="">
                </a>
            </div>
        </div>
    </main>

    <section class="property_type">
        <div class="container">
            <div class="swiper mySwiper">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <a href="#" data-property_type="all" class="btn btn-solid">الكل</a>
                    </div>
                    <div class="swiper-slide">
                        <a href="#" data-property_type="apartment_rent" class="btn btn-solid">شقق للإيجار</a>
                    </div>
                
                    <div class="swiper-slide">
                        <a href="#" data-property_type="floor_rent" class="btn btn-solid">دور للإيجار</a>
                    </div>

                    <div class="swiper-slide">
                        <a href="#" data-property_type="villa_rent" class="btn btn-solid">فيلا للإيجار</a>
                    </div>

                    <div class="swiper-slide">
                        <a href="#" data-property_type="shop_rent" class="btn btn-solid">محل للإيجار</a>
                    </div>

                    <div class="swiper-slide">
                        <a href="#" data-property_type="resthouse_rent" class="btn btn-solid">استراحة للإيجار</a>
                    </div>


                    <div class="swiper-slide">
                        <a href="#" data-property_type="commercial_office_rent" class="btn btn-solid">مكتب تجاري للإيجار</a>
                    </div>

                    <div class="swiper-slide">
                        <a href="#" data-property_type="land_rent" class="btn btn-solid">أرض للإيجار</a>
                    </div>

                    <div class="swiper-slide">
                        <a href="#" data-property_type="building_rent" class="btn btn-solid">عمارة للإيجار</a>
                    </div>

                    <div class="swiper-slide">
                        <a href="#" data-property_type="branch_rent" class="btn btn-solid">مستودع للإيجار</a>
                    </div>

                    <div class="swiper-slide">
                        <a href="#" data-property_type="furnished_apartment_rent" class="btn btn-solid">شقة مفروشة للإيجار</a>
                    </div>

                    <div class="swiper-slide">
                        <a href="#" data-property_type="chalet_rent" class="btn btn-solid">شاليه للإيجار</a>
                    </div>
                    <div class="swiper-slide">
                        <a href="#" data-property_type="land_sale" class="btn btn-solid">أرض للبيع</a>
                    </div>
                    <div class="swiper-slide">
                        <a href="#" data-property_type="villa_sale" class="btn btn-solid">فيلا للبيع</a>
                    </div>
                    <div class="swiper-slide">
                        <a href="#" data-property_type="apartment_sale" class="btn btn-solid">شقة للبيع</a>
                    </div>
                    <div class="swiper-slide">
                        <a href="#" data-property_type="building_sale" class="btn btn-solid">عمارة للبيع</a>
                    </div>
                    <div class="swiper-slide">
                        <a href="#" data-property_type="resthouse_sale" class="btn btn-solid">استراحة للبيع</a>
                    </div>
                    <div class="swiper-slide">
                        <a href="#" class="btn btn-solid">مزرعة للبيع</a>
                    </div>
                    <div class="swiper-slide">
                        <a href="#" data-property_type="shop_sale" class="btn btn-solid">محل للبيع</a>
                    </div>
                    <div class="swiper-slide">
                        <a href="#" data-property_type="floor_sale" class="btn btn-solid">دور للبيع</a>
                    </div>
                </div>
                <!-- <div class="swiper-pagination"></div> -->
            </div>
        </div>
    </section>

    <section class="property_list">
        <div class="container">

            <div class="grid property_grid">
                
                {% for property in page_obj %}
                

                <div class="item property">
                    <input type="hidden" name="propertyFirstImgUrl" value="{{property.imgs.first.img.url}}">
                    <input type="hidden" name="property_type_input" value="{{property.p_type}}">
                    <div class="property__info">
                        <h4 class="property__title">
                            <a href="{% url 'property:property-details' property.number %}">{{property.title}}</a>
                        </h4>
                        <p class="property__price">
                            
                            {% if property.sale == True %}
                            {{property.price|floatformat:"0"}} ريال
                            {% else %}
                            {{property.price|floatformat:"0"}} ريال / {{property.get_rent_type_display }}
                            {% endif %}

                                
                        </p>
                        <p class="property__description">
                            <!-- {{property.description|safe|truncatewords:5}} -->
                        </p>
                    </div>
                    <div class="property__cover_img">
                    
                    
                        <img src="{% for img in property.imgs.all %}{% if img.main %}{{img.img.url}}{% endif %}{% endfor %}" alt="">
                        
                        
                    </div>
                </div>
                {% endfor %}


                <div class="pagination">
                    <div class="container">
                        <a href="?page=1">الأولى</a>
                        
                        {% if page_obj.has_previous %}
                            <a href="?page={{page_obj.previous_page_number}}">{{page_obj.previous_page_number}}</a>
                        {% endif %}

                        <a href="?page={{page_obj.number}}" class="current_page">{{page_obj.number}}</a>
                        
                        {% if page_obj.has_next %}
                            <a href="?page={{page_obj.next_page_number}}">{{page_obj.next_page_number}}</a>
                        {% endif %}

                        <a href="?page={{paginator.num_pages}}">الأخيرة</a>
                            
                    </div>
                </div>


                <!-- <div class="pagination"> 
                    
                    <div class="container">
                        <span class="step-links">
                            {% if page_obj.has_previous %}
                                <a href="?page=1">&laquo; الأولى</a>
                                <a href="?page={{ page_obj.previous_page_number }}">السابقة</a>
                            {% endif %}
                    
                            <span class="current">
                                Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
                            </span>
                    
                            {% if page_obj.has_next %}
                                <a href="?page={{ page_obj.next_page_number }}">التالي</a>
                                <a href="?page={{ page_obj.paginator.num_pages }}">الأخيرة &raquo;</a>
                            {% endif %}
                        </span>

                    </div>

                </div> -->

                    



            </div>

        </div>
    </section>

    <section class="search-filters">
        <div class="container">
            <div class="section__heading">
                <h3>ابحث عن عقار</h3>
                <div id="search-filter-close-btn">
                    <i class="fa-solid fa-xmark"></i>
                </div>
            </div>
            <div class="section__content">
                <div class="field">
                    <p>قسم العقار</p>
                    <select name="property_type">
                        <option value="" disabled selected>عقارات</option>
                        <option value="apartment_rent">شقة للايجار</option>
                        <option value="floor_rent">دور للايجار</option>
                        <option value="villa_rent">فيلا للايجار</option>
                        <option value="shop_rent">محل للايجار</option>
                        <option value="resthouse_rent">استراحة للايجار</option>
                        <option value="commercial_office_rent">مكتب تجاري للايجار</option>
                        <option value="land_rent">أرض للايجار</option>
                        <option value="building_rent">عمارة للايجار</option>
                        <option value="branch_rent">مستودع للايجار</option>
                        <option value="furnished_apartment_rent">شقة مفروشة للايجار</option>
                        <option value="chalet_rent">شاليه للايجار</option>
                        <option value="chalet_sale">شاليه للبيع</option>
                        <option value="land_sale">أرض للبيع</option>
                        <option value="villa_sale">فيلا للبيع</option>
                        <option value="apartment_sale">شقة للبيع</option>
                        <option value="building_sale">عمارة للبيع</option>
                        <option value="resthouse_sale">استراحة للبيع</option>
                        <option value="farm_sale">مزرعة للبيع</option>
                        <option value="shop_sale">محل للبيع</option>
                        <option value="floor_sale">دور للبيع</option>
                    </select>
                </div>
                <div class="field">
                    <p>المدينة</p>
                    <select name="city" id="city-select-input">
                        <option value="" disabled selected>اختر المدينة</option>
                        <option value="الرياض" data-city="Riyadh">الرياض</option>
                        <option value="جدة" data-city="Jeddah">جدة</option>
                        <option value="مكة المكرمة" data-city="Mecca">مكة المكرمة</option>
                        <option value="المدينة المنورة" data-city="Medina">المدينة المنورة</option>
                        <option value="الدمام" data-city="Dammam">الدمام</option>
                        <option value="الخبر" data-city="Khobar">الخبر</option>
                        <option value="الظهران" data-city="Dhahran">الظهران</option>
                        <option value="الطائف" data-city="Taif">الطائف</option>
                        <option value="تبوك" data-city="Tabuk">تبوك</option>
                        <option value="بريدة" data-city="Buraydah">بريدة</option>
                        <option value="خميس مشيط" data-city="KhamisMushait">خميس مشيط</option>
                        <option value="أبها" data-city="Abha">أبها</option>
                        <option value="ينبع" data-city="Yanbu">ينبع</option>
                        <option value="الجبيل" data-city="Jubail">الجبيل</option>
                        <option value="الخرج" data-city="Hofuf">الخرج</option>
                        <option value="حائل" data-city="Hail">حائل</option>
                        <option value="نجران" data-city="Najran">نجران</option>
                        <option value="القصيم" data-city="Qassim">القصيم</option>
                        <option value="الخبر" data-city="Khobar">الخبر</option>
                        <option value="الباحة" data-city="Bahah">الباحة</option>                        
                    </select>
                </div>
                <div class="field">
                    <p>الحي</p>
                    <select name="district" id="district-select-input">
                        <option value="" disabled selected>اختر الحي</option>
                        {% comment %} this process can be handled using ajax {% endcomment %}
                    </select>
                </div>

                <div class="fields-wrapper">
                    


                </div>
                
                <div class="field">
                    <a class="btn btn-solid" id="filter-btn">بحث</a>
                </div>
            </div>
        </div>
    </section>

    <div class="overlay-layer"></div>



    <script src="{% static 'js/pages/app.js' %}"></script>
    <script src="{% static 'js/pages/index.js' %}"></script>

    <script>
        let messages = document.querySelectorAll('.messages li'); 
        messages.forEach((msg) => { 
            if (msg) {
                setTimeout(()=> {
                    msg.style.display = 'none'
                }, 5000)
            }
        })

        let overlayLayer = document.querySelector('.overlay-layer')
        let searchFilters = document.querySelector(".search-filters") 

        let searchFilterOpenBtn = document.querySelector('#search-filter-open-btn')
        searchFilterOpenBtn.addEventListener('click', () => {
            searchFilters.style.display = 'block'
            searchFilters.style.right = '0'; 
            overlayLayer.style.display = 'block';
            document.body.style.overflow = 'hidden'; 
        })

        let searchFilterCloseBtn = document.querySelector('#search-filter-close-btn i') 
        searchFilterCloseBtn.addEventListener('click', () => {
            searchFilters.style.right = '-400px'; 
            overlayLayer.style.display = 'none';
            document.body.style.overflow = 'visible'; 
        })


        var BuraydaDistricts = [
            "الأندلس",
            "الوادي",
            "اليرموك",
            "الرمال",
            "المروة",
            "الخضر",
            "اللسيب",
            "القضيعة",
            "الغدير",
            "السالمية",
            "الروابي",
            "حويلان",
            "خضراء",
            "الصباخ",
            "واسط",
            "السلام",
            "الجنوب",
            "الخليج",
            "الضاحي",
            "خب البريدي",
            "السادة",
            "الهلال",
            "العجيبة",
            "العريضي",
            "البساتين",
            "النسيم",
            "الموطاء",
            "التعليم",
            "الجردة",
            "الصالحية",
            "المريدسية",
            "الشروق",
            "خب الثنيان",
            "الشماس",
            "القادسية",
            "الصفاء",
            "الخبيب",
            "المرقب",
            "الربيع",
            "الرفيعة",
            "الزرقاء",
            "النور",
            "الشفق",
            "الحمر",
            "القاع البارد",
            "الربوة",
            "المنار",
            "الوسيطي",
            "المنتزه",
            "الصفراء",
            "الفايزية",
            "النقع",
            "النخيل",
            "الروضه",
            "الإسكان",
            "الأخضر",
            "الشقة السفلى",
            "الرابية",
            "الريان",
            "النهضة",
            "الافق",
            "الورود",
            "الخزامي",
            "الجزيرة",
            "الفاروق",
            "المرواج",
            "رواق"
        ];


        let districtSelectInput = document.querySelector("#district-select-input"); 
        let citySelectInput = document.querySelector('#city-select-input') 
        citySelectInput.addEventListener('change', ()=> {
            districtSelectInput.innerHTML = "" ;
            if (citySelectInput.value =='بريدة') {
                BuraydaDistricts.forEach((city) => {
                    let new_option = document.createElement('option') 
                    new_option.value = city; 
                    new_option.textContent = city; 
                    districtSelectInput.appendChild(new_option)
                })
            }
        })

        let fieldsWrapper = document.querySelector('.fields-wrapper'); 
        
        function appendRentTypeField() {

            // Create the div element with class "field"
            const fieldDiv = document.createElement('div');
            fieldDiv.classList.add('field');

            // Create the div element with class "field__heading"
            const headingDiv = document.createElement('div');
            headingDiv.classList.add('field__heading');

            // Create the paragraph element with class "field__heading__title" and text content "مدة الإيجار"
            const titleParagraph = document.createElement('p');
            titleParagraph.classList.add('field__heading__title');
            titleParagraph.textContent = 'مدة الإيجار';

            // Append the title paragraph to the heading div
            headingDiv.appendChild(titleParagraph);

            // Append the heading div to the field div
            fieldDiv.appendChild(headingDiv);

            // Create the div element with class "field__content"
            const contentDiv = document.createElement('div');
            contentDiv.classList.add('field__content');

            // Create the input element with type "hidden" and name "rent_type_input"
            const hiddenInput = document.createElement('input');
            hiddenInput.setAttribute('type', 'hidden');
            hiddenInput.setAttribute('name', 'rent_type_input');
            hiddenInput.setAttribute('value', '');

            // Append the hidden input to the content div
            contentDiv.appendChild(hiddenInput);

            // Create the div element with class "grid" and class "rent_type"
            const gridDiv = document.createElement('div');
            gridDiv.classList.add('grid', 'rent_type');

            // Create the three div elements with class "item" and respective data-value attributes
            const withoutDiv = document.createElement('div');
            withoutDiv.setAttribute('data-value', '');
            withoutDiv.classList.add('item');
            withoutDiv.textContent = 'الكل';

            const monthlyDiv = document.createElement('div');
            monthlyDiv.setAttribute('data-value', 'monthly');
            monthlyDiv.classList.add('item');
            monthlyDiv.textContent = 'شهري';

            const yearlyDiv = document.createElement('div');
            yearlyDiv.setAttribute('data-value', 'yearly');
            yearlyDiv.classList.add('item');
            yearlyDiv.textContent = 'سنوي';

            // Append the three item divs to the grid div
            gridDiv.appendChild(withoutDiv);
            gridDiv.appendChild(monthlyDiv);
            gridDiv.appendChild(yearlyDiv);

            // Append the grid div to the content div
            contentDiv.appendChild(gridDiv);

            // Append the content div to the field div
            fieldDiv.appendChild(contentDiv);

            // Now, you can append the field div to any existing HTML element in your document to display it
            // For example:

            changeItemValue(fieldDiv.querySelector('.grid'))
            fieldsWrapper.appendChild(fieldDiv);  

        }

        function appendRoomsCountField() {
            // Create the div element with class "field"
            const fieldDiv = document.createElement('div');
            fieldDiv.classList.add('field');
        
            // Create the div element with class "field__heading"
            const headingDiv = document.createElement('div');
            headingDiv.classList.add('field__heading');
        
            // Create the paragraph element with class "field__heading__title" and text content "عدد الغرف"
            const titleParagraph = document.createElement('p');
            titleParagraph.classList.add('field__heading__title');
            titleParagraph.textContent = 'عدد الغرف';
        
            // Append the title paragraph to the heading div
            headingDiv.appendChild(titleParagraph);
        
            // Append the heading div to the field div
            fieldDiv.appendChild(headingDiv);
        
            // Create the div element with class "field__content"
            const contentDiv = document.createElement('div');
            contentDiv.classList.add('field__content');
        
            // Create the input element with type "hidden" and name "rooms-count-input"
            const hiddenInput = document.createElement('input');
            hiddenInput.setAttribute('type', 'hidden');
            hiddenInput.setAttribute('name', 'rooms-count-input');
            hiddenInput.setAttribute('value', '');
        
            // Append the hidden input to the content div
            contentDiv.appendChild(hiddenInput);
        
            // Create the div element with class "grid" and class "roomsCount"
            const gridDiv = document.createElement('div');
            gridDiv.classList.add('grid', 'roomsCount');
        
            // Create the six div elements with class "item" and respective data-value attributes
            const allDiv = document.createElement('div');
            allDiv.setAttribute('data-value', '');
            allDiv.classList.add('item');
            allDiv.textContent = 'الكل';
        
            const oneDiv = document.createElement('div');
            oneDiv.setAttribute('data-value', '1');
            oneDiv.classList.add('item');
            oneDiv.textContent = '1';
        
            const twoDiv = document.createElement('div');
            twoDiv.setAttribute('data-value', '2');
            twoDiv.classList.add('item');
            twoDiv.textContent = '2';
        
            const threeDiv = document.createElement('div');
            threeDiv.setAttribute('data-value', '3');
            threeDiv.classList.add('item');
            threeDiv.textContent = '3';
        
            const fourDiv = document.createElement('div');
            fourDiv.setAttribute('data-value', '4');
            fourDiv.classList.add('item');
            fourDiv.textContent = '4';
        
            const plusFiveDiv = document.createElement('div');
            plusFiveDiv.setAttribute('data-value', '+5');
            plusFiveDiv.classList.add('item');
            plusFiveDiv.textContent = '+5';
        
            // Append the item divs to the grid div
            gridDiv.appendChild(allDiv);
            gridDiv.appendChild(oneDiv);
            gridDiv.appendChild(twoDiv);
            gridDiv.appendChild(threeDiv);
            gridDiv.appendChild(fourDiv);
            gridDiv.appendChild(plusFiveDiv);
        
            // Append the grid div to the content div
            contentDiv.appendChild(gridDiv);
        
            // Append the content div to the field div
            fieldDiv.appendChild(contentDiv);
        
            
            // Append the field div to the fields wrapper
            changeItemValue(fieldDiv.querySelector('.grid'))
            fieldsWrapper.appendChild(fieldDiv);
        }

        function changeItemValue(grid) {
            grid.querySelectorAll(".item").forEach((item)=> {
                item.addEventListener('click', () => {
                    grid.querySelectorAll(".item").forEach((item) => {
                        item.style.background = 'white'; 
                        item.style.color = 'black'
                    })
                    item.style.color = 'var(--secondary-color)'
                    item.style.background = 'var(--primary-color)'

                    item.parentElement.parentElement.querySelector('input').value = item.dataset.value; 
                    {% comment %} console.log(item);  {% endcomment %}
                    {% comment %} console.log(item.parentElement.parentElement.querySelector('input'));  {% endcomment %}
                    {% comment %} console.log(item.dataset.value); {% endcomment %}
                })
            })
        }

        function appendFamiliesSinglesField() {
            // Create the div element with class "field"
            const fieldDiv = document.createElement('div');
            fieldDiv.classList.add('field');
        
            // Create the div element with class "field__heading"
            const headingDiv = document.createElement('div');
            headingDiv.classList.add('field__heading');
        
            // Create the paragraph element with class "field__heading__title" and text content "عوائل أم عزاب"
            const titleParagraph = document.createElement('p');
            titleParagraph.classList.add('field__heading__title');
            titleParagraph.textContent = 'عوائل أم عزاب';
        
            // Append the title paragraph to the heading div
            headingDiv.appendChild(titleParagraph);
        
            // Append the heading div to the field div
            fieldDiv.appendChild(headingDiv);
        
            // Create the div element with class "field__content"
            const contentDiv = document.createElement('div');
            contentDiv.classList.add('field__content');
        
            // Create the input element with type "hidden" and name "single-or-family-input"
            const hiddenInput = document.createElement('input');
            hiddenInput.setAttribute('type', 'hidden');
            hiddenInput.setAttribute('name', 'single-or-family-input');
        
            // Append the hidden input to the content div
            contentDiv.appendChild(hiddenInput);
        
            // Create the div element with class "grid" and class "families-single"
            const gridDiv = document.createElement('div');
            gridDiv.classList.add('grid', 'families-single');
        
            // Create the three div elements with class "item" and respective data-value attributes
            const unspecifiedDiv = document.createElement('div');
            unspecifiedDiv.setAttribute('data-value', '');
            unspecifiedDiv.classList.add('item');
            unspecifiedDiv.textContent = 'الكل';
        
            const familiesDiv = document.createElement('div');
            familiesDiv.setAttribute('data-value', 'families');
            familiesDiv.classList.add('item');
            familiesDiv.textContent = 'عوائل';
        
            const singleDiv = document.createElement('div');
            singleDiv.setAttribute('data-value', 'single');
            singleDiv.classList.add('item');
            singleDiv.textContent = 'عزاب';
        
            // Append the item divs to the grid div
            gridDiv.appendChild(unspecifiedDiv);
            gridDiv.appendChild(familiesDiv);
            gridDiv.appendChild(singleDiv);
        
            // Append the grid div to the content div
            contentDiv.appendChild(gridDiv);
        
            // Append the content div to the field div
            fieldDiv.appendChild(contentDiv);

            changeItemValue(fieldDiv.querySelector('.grid'))
        
            // Append the field div to the fields wrapper
            fieldsWrapper.appendChild(fieldDiv);
        }

        function appendMinMaxPrice() {
            // Create the div element with class "field"
            const minPriceField = document.createElement('div');
            minPriceField.classList.add('field');
        
            // Create the div element with class "field__heading"
            const minPriceHeading = document.createElement('div');
            minPriceHeading.classList.add('field__heading');
        
            // Create the paragraph element with class "field__heading__title" and text content "السعر الأدنى"
            const minPriceTitle = document.createElement('p');
            minPriceTitle.classList.add('field__heading__title');
            minPriceTitle.textContent = 'السعر الأدنى';
        
            // Append the title paragraph to the heading div
            minPriceHeading.appendChild(minPriceTitle);
        
            // Append the heading div to the field div
            minPriceField.appendChild(minPriceHeading);
        
            // Create the div element with class "field__content"
            const minPriceContent = document.createElement('div');
            minPriceContent.classList.add('field__content');
        
            // Create the input element with type "text" and placeholder "أدخل السعر الأدنى ر.س" and name 'min-price-input'
            const minPriceInput = document.createElement('input');
            minPriceInput.setAttribute('type', 'text');
            minPriceInput.setAttribute('placeholder', 'أدخل السعر الأدنى ر.س');
            minPriceInput.setAttribute('name', 'min-price-input');
            minPriceInput.setAttribute('id', 'min-price-input');
        
            // Append the input to the content div
            minPriceContent.appendChild(minPriceInput);
        
            // Append the content div to the field div
            minPriceField.appendChild(minPriceContent);
        
            // Append the minPriceField to the fields wrapper
            fieldsWrapper.appendChild(minPriceField);
        
            // Create the div element with class "field"
            const maxPriceField = document.createElement('div');
            maxPriceField.classList.add('field');
        
            // Create the div element with class "field__heading"
            const maxPriceHeading = document.createElement('div');
            maxPriceHeading.classList.add('field__heading');
        
            // Create the paragraph element with class "field__heading__title" and text content "السعر الأعلى"
            const maxPriceTitle = document.createElement('p');
            maxPriceTitle.classList.add('field__heading__title');
            maxPriceTitle.textContent = 'السعر الأعلى';
        
            // Append the title paragraph to the heading div
            maxPriceHeading.appendChild(maxPriceTitle);
        
            // Append the heading div to the field div
            maxPriceField.appendChild(maxPriceHeading);
        
            // Create the div element with class "field__content"
            const maxPriceContent = document.createElement('div');
            maxPriceContent.classList.add('field__content');
        
            // Create the input element with type "text" and placeholder "أدخل السعر الأعلى ر.س" and name 'max-price-input'
            const maxPriceInput = document.createElement('input');
            maxPriceInput.setAttribute('type', 'text');
            maxPriceInput.setAttribute('placeholder', 'أدخل السعر الأعلى ر.س');
            maxPriceInput.setAttribute('name', 'max-price-input');
            maxPriceInput.setAttribute('id', 'max-price-input');
        
            // Append the input to the content div
            maxPriceContent.appendChild(maxPriceInput);
        
            // Append the content div to the field div
            maxPriceField.appendChild(maxPriceContent);
        
            // Append the maxPriceField to the fields wrapper
            fieldsWrapper.appendChild(maxPriceField);
        }
                
        function appendFloorInputField() {
            // Create the div element with class "field"
            const fieldDiv = document.createElement('div');
            fieldDiv.classList.add('field');
        
            // Create the div element with class "field__heading"
            const headingDiv = document.createElement('div');
            headingDiv.classList.add('field__heading');
        
            // Create the paragraph element with class "field__heading__title" and text content "الدور"
            const titleParagraph = document.createElement('p');
            titleParagraph.classList.add('field__heading__title');
            titleParagraph.textContent = 'الدور';
        
            // Append the title paragraph to the heading div
            headingDiv.appendChild(titleParagraph);
        
            // Append the heading div to the field div
            fieldDiv.appendChild(headingDiv);
        
            // Create the div element with class "field__content"
            const contentDiv = document.createElement('div');
            contentDiv.classList.add('field__content');
        
            // Create the input element with type "hidden" and name "floor-input"
            const hiddenInput = document.createElement('input');
            hiddenInput.setAttribute('type', 'hidden');
            hiddenInput.setAttribute('name', 'floor-input');
        
            // Append the hidden input to the content div
            contentDiv.appendChild(hiddenInput);
        
            // Create the div element with class "grid" and class "floor"
            const gridDiv = document.createElement('div');
            gridDiv.classList.add('grid', 'floor');
        
            // Create the six div elements with class "item" and respective data-value attributes
            const allDiv = document.createElement('div');
            allDiv.setAttribute('data-value', '');
            allDiv.classList.add('item');
            allDiv.textContent = 'الكل';
        
            const groundDiv = document.createElement('div');
            groundDiv.setAttribute('data-value', 'أرضي');
            groundDiv.classList.add('item');
            groundDiv.textContent = 'أرضي';
        
            const upperDiv = document.createElement('div');
            upperDiv.setAttribute('data-value', 'علوي');
            upperDiv.classList.add('item');
            upperDiv.textContent = 'علوي';
        
            const thirdDiv = document.createElement('div');
            thirdDiv.setAttribute('data-value', '3');
            thirdDiv.classList.add('item');
            thirdDiv.textContent = '3';
        
            const fourthDiv = document.createElement('div');
            fourthDiv.setAttribute('data-value', '4');
            fourthDiv.classList.add('item');
            fourthDiv.textContent = '4';
        
            const moreDiv = document.createElement('div');
            moreDiv.setAttribute('data-value', 'أكثر');
            moreDiv.classList.add('item');
            moreDiv.textContent = 'أكثر';
        
            // Append the item divs to the grid div
            gridDiv.appendChild(allDiv);
            gridDiv.appendChild(groundDiv);
            gridDiv.appendChild(upperDiv);
            gridDiv.appendChild(thirdDiv);
            gridDiv.appendChild(fourthDiv);
            gridDiv.appendChild(moreDiv);
        
            // Append the grid div to the content div
            contentDiv.appendChild(gridDiv);
        
            // Append the content div to the field div
            fieldDiv.appendChild(contentDiv);
        

            changeItemValue(fieldDiv.querySelector('.grid'))

            // Append the field div to the fields wrapper
            fieldsWrapper.appendChild(fieldDiv);
        }

        
        function appendPropertyAgeField() {
            // Create the div element with class "field"
            const fieldDiv = document.createElement('div');
            fieldDiv.classList.add('field');
        
            // Create the div element with class "field__heading"
            const headingDiv = document.createElement('div');
            headingDiv.classList.add('field__heading');
        
            // Create the paragraph element with class "field__heading__title" and text content "عمر العقار"
            const titleParagraph = document.createElement('p');
            titleParagraph.classList.add('field__heading__title');
            titleParagraph.textContent = 'عمر العقار';
        
            // Append the title paragraph to the heading div
            headingDiv.appendChild(titleParagraph);
        
            // Append the heading div to the field div
            fieldDiv.appendChild(headingDiv);
        
            // Create the div element with class "field__content"
            const contentDiv = document.createElement('div');
            contentDiv.classList.add('field__content');
        
            // Create the select element with name "property-age-select" and id "property-age-select"
            const selectElement = document.createElement('select');
            selectElement.setAttribute('name', 'property-age-select');
            selectElement.setAttribute('id', 'property-age-select');
        
            // Create options for select element
            const options = [
                { value: '', text: 'غير محدد' },
                { value: 'جديد', text: 'جديد' }
            ];
        
            // Add options for ages from 2 to 35+
            for (let i = 2; i <= 34; i++) {
                options.push({ value: i.toString(), text: i.toString() });
            }
            options.push({ value: '35+', text: '35+' });
        
            // Create and append option elements to select element
            options.forEach(optionData => {
                const option = document.createElement('option');
                option.setAttribute('value', optionData.value);
                option.textContent = optionData.text;
                selectElement.appendChild(option);
            });
        
            // Append the select element to the content div
            contentDiv.appendChild(selectElement);
        
            // Append the content div to the field div
            fieldDiv.appendChild(contentDiv);
        
            // Append the field div to the fields wrapper
            fieldsWrapper.appendChild(fieldDiv);
        }
        
        
        
        let filterBtn = document.querySelector('#filter-btn'); 
        let propertyTypeSelect = document.querySelector("[name=property_type]");

        propertyTypeSelect.addEventListener('change', ()=> {
            propertyTypeSelectValue = propertyTypeSelect.value; 
            if (propertyTypeSelectValue == 'apartment_rent' || propertyTypeSelectValue == 'apartment_sale') {
                // show the filters for apartment 
                fieldsWrapper.innerHTML = "";
                appendRentTypeField();
                appendRoomsCountField();
                appendFamiliesSinglesField(); 
                appendMinMaxPrice(); 
                appendFloorInputField(); 
                appendPropertyAgeField(); 
            }
        })

        filterBtn.addEventListener('click', ()=> {
            if  (propertyTypeSelect.value == 'apartment_rent') {
                // rent_type 
                // rooms_count 
                // familes_singles

            }
        })

    </script>


    {% endblock content %}

